(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d3aa1b0"],{"091a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractSealChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.dataTitle,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row)+"\n              ")]}}])}),t._l(t.legends,function(e,i){return a("el-table-column",{key:i,attrs:{label:e}},[[a("el-link",{on:{click:function(e){return t.getMoreInfo(t.apiData[i])}}},[t._v("\n                    "+t._s(t.apiData[i].indexData)+"\n                    "+t._s("INDE_ONLINE_RATE1"===t.apiData[i].indexCode?"%":"")+"\n                  ")])]],2)})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=(a("2f62"),a("f08d")),c={components:{contractList:l["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[""],drawStyle:{},apiData:[],legends:[],seriesData:[],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null,yAxis:[],yData:[],yTitle:""}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"盖章情况统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,s["a"].exportContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.reportData=[],this.legends=[],this.yData=[],s["a"].queryByContractPrintStamp(this.queryParams).then(function(e){if("000000"===e.code){t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){"INDE_ONLINE_RATE1"===e.indexCode?(t.yData.push(e.indexData),t.yTitle=e.indexName):(t.legends.push(e.indexName),t.reportData.push(e.indexData))}),t.seriesData=[];var a=0;t.legends.forEach(function(e){var i={type:"bar"};i.name=t.legends[a],i.data=[t.reportData[a]],t.seriesData.push(i),a++}),t.seriesData.push({name:t.yTitle,type:"line",yAxisIndex:1,data:t.yData,itemStyle:{normal:{label:{show:!0,formatter:"{c}%"},labelLine:{show:!0}}}}),t.yAxis=[{type:"value",scale:!0,name:"合同数",min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"百分比",max:100,min:0,boundaryGap:[.2,.2]}]}t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractSealChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle},yAxis:this.yAxis,legend:{bottom:"bottom"},color:["#2e76ca","#5dccd8","#f5be51","#5fcb9f"],series:this.seriesData}),t.on("click",function(t){console.log(t,"drawLine")})}}},d=c,u=a("0c7c"),h=Object(u["a"])(d,i,n,!1,null,null,null);e["a"]=h.exports},"13be":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractTypeChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.legends,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                      "+t._s(e.row)+"\r\n                  ")]}}])}),t._l(t.dataTitle,function(e,i){return a("el-table-column",{key:i,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{on:{click:function(a){return t.getMoreInfo(t.apiData[i],e.$index)}}},[t._v(t._s(t.reportData[e.$index][i]))])]}}],null,!0)})})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9523"),l=a.n(s),c=a("9981"),d=a("2f62"),u=a("f08d"),h={components:{contractList:u["a"]},data:function(){var t;return t={loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:["合同数"],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{pageSize:10,currentPage:1,total:0}},l()(t,"searchForm",{}),l()(t,"pager",{pageSize:10,currentPage:1,total:0}),l()(t,"isLoading",!1),l()(t,"eCharts",null),l()(t,"clickFlag",""),t},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},title:{type:String,default:function(){return"按合同类型统计"}},queryParams:{type:Object,default:function(){}}},watch:{queryParams:function(t){this.drawEcharts()}},computed:o()({},Object(d["c"])({userInfo:function(t){return t.common.userInfo}})),created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?c["a"].exportContract(this.searchForm,this.userInfo.userId,t):c["a"].exportSnapContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){var t=this;setTimeout(function(){"drawLine"!==t.clickFlag?t.dlgVisiable=!0:t.clickFlag=""},300)},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?c["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()}):c["a"].querySnapContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){console.log(t,e),this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.dataTitle=[],this.reportData=[],this.legends=[],c["a"].queryByContractTypePortrait(this.queryParams).then(function(e){if("000000"===e.code){t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){t.dataTitle.push(e.indexName),e.dataList&&e.dataList.length>0&&e.dataList.forEach(function(e){var a=t.legends.indexOf(e.indexName);a<0&&(t.legends.push(e.indexName),a=t.legends.indexOf(e.indexName)),t.reportData[a]?t.reportData[a].push(e.indexData):t.reportData.push([e.indexData])})}),t.seriesData=[];var a=0;t.legends.forEach(function(e){var i={type:"bar"};i.name=t.legends[a],i.data=t.reportData[a],t.seriesData.push(i),a++})}t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询合同数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this,e=this.$echarts.init(document.getElementById("contractTypeChart"));this.eCharts=e,e.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle},yAxis:{},legend:{bottom:"bottom"},color:["#2e76ca","#5fcb9f"],series:this.seriesData}),e.on("click",function(e){t.clickFlag="drawLine",t.getMoreInfo(t.apiData[e.dataIndex],e.seriesIndex)})}}},p=h,g=a("0c7c"),f=Object(g["a"])(p,i,n,!1,null,null,null);e["a"]=f.exports},"3fdf":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractApprovalDayChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.legends,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._l(t.dataTitle,function(e,i){return a("el-table-column",{key:i,attrs:{label:e}},[[a("el-link",{on:{click:function(e){return t.getMoreInfo(t.apiData[i])}}},[t._v(t._s(t.reportData[i]))])]],2)})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=a("2f62"),c=a("f08d"),d={components:{contractList:c["a"]},computed:o()({},Object(l["c"])({userInfo:function(t){return t.common.userInfo}})),data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:["数量"],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"按后续审批时效统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,s["a"].exportContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t){this.searchForm=o()({},this.queryParams),this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(t){var e=this;this.dataTitle=[],this.reportData=[],s["a"].queryByContractApprovePortrait(this.queryParams).then(function(t){"000000"===t.code&&(e.apiData=t.data,e.apiData&&e.apiData.length>0&&e.apiData.forEach(function(t){e.dataTitle.push(t.indexName),e.reportData.push(t.indexData)})),e.$nextTick(function(){e.drawLine()})}).catch(function(t){e.$message({type:"error",message:"查询数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractApprovalDayChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle},yAxis:{},series:[{type:"bar",data:this.reportData,itemStyle:{normal:{color:function(t){var e=["#2e76ca","#5dccd8","#5fcb9f","#f5be51","#419cd5","#749f83","#ca8622"];return e[t.dataIndex]}}}}]}),t.on("click",function(t){console.log(t,"drawLine")})}}},u=d,h=a("0c7c"),p=Object(h["a"])(u,i,n,!1,null,null,null);e["a"]=p.exports},"5c9d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractMoneyChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.legends,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row)+"\n              ")]}}])}),t._l(t.dataTitle,function(e,i){return a("el-table-column",{key:i,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{on:{click:function(a){return t.getMoreInfo(t.apiData[i],e.$index)}}},[t._v(t._s(t.reportData[e.$index][i]))])]}}],null,!0)})})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=(a("2f62"),a("f08d")),c={components:{contractList:l["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:[],seriesData:[],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null,clickFlag:""}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"按合同金额统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,"INDEX_ALREADY_COUNT"===this.searchForm.indexEnum?s["a"].exportContract(this.searchForm,this.userInfo.userId,t):s["a"].exportSnapContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){var t=this;setTimeout(function(){"drawLine"!==t.clickFlag?t.dlgVisiable=!0:t.clickFlag=""},300)},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,"INDEX_ALREADY_COUNT"===this.searchForm.indexEnum?s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()}):s["a"].querySnapContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.dataTitle=[],this.reportData=[],this.legends=[],s["a"].queryByContractMoneyPortrait(this.queryParams).then(function(e){if("000000"===e.code){t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){t.dataTitle.push(e.indexName),e.dataList&&e.dataList.length>0&&e.dataList.forEach(function(e){var a=t.legends.indexOf(e.indexName);a<0&&(t.legends.push(e.indexName),a=t.legends.indexOf(e.indexName)),t.reportData[a]?t.reportData[a].push(e.indexData):t.reportData.push([e.indexData])})}),t.seriesData=[];var a=0;t.legends.forEach(function(e){var i={type:"bar"};i.name=t.legends[a],i.data=t.reportData[a],t.seriesData.push(i),a++})}t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询合同状态数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this,e=this.$echarts.init(document.getElementById("contractMoneyChart"));this.eCharts=e,e.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle,axisLabel:{interval:0,rotate:0,textStyle:{align:"center"}}},yAxis:{},legend:{bottom:"bottom"},color:["#5dccd8","#f5be51"],series:this.seriesData}),e.on("click",function(e){t.clickFlag="drawLine",t.getMoreInfo(t.apiData[e.dataIndex],e.seriesIndex)})}}},d=c,u=a("0c7c"),h=Object(u["a"])(d,i,n,!1,null,null,null);e["a"]=h.exports},9981:function(t,e,a){"use strict";var i=a("b775"),n=a("b893"),r=a("a78e"),o=a.n(r),s=a("8237"),l=a.n(s),c="https://ylht.yili.com/api/report",d={querySnapContract:function(t){return i["a"].post("/report/contract/selectSnapContract",t,{baseURL:c}).then(function(t){return t})},exportSnapContract:function(t,e,a){var i=new XMLHttpRequest,r=new FormData,s=o.a.get("token"),d=(new Date).getTime(),u=Object(n["l"])(1e3,9999);r=JSON.stringify(t),i.open("post",c+"/report/contract/exportSnapContract",!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Authorization",o.a.get("Authorization")),i.setRequestHeader("token",s),i.setRequestHeader("signature",l()(e+s+u+d+"")),i.setRequestHeader("nonce",u),i.setRequestHeader("timestamp",d),i.responseType="blob",i.onload=function(t){var e=i.response,n="合同信息.xls",r=document.createElement("a");r.download=n,r.style.display="none";var o=new Blob([e]);if(window.navigator.msSaveBlob)try{window.navigator.msSaveBlob(o,n)}catch(s){console.log(s)}else r.href=URL.createObjectURL(o),document.body.appendChild(r),r.click(),document.body.removeChild(r);a&&a()},i.send(r)},queryContract:function(t){return i["a"].post("/report/contract/selectContract",t,{baseURL:c}).then(function(t){return t})},exportContract:function(t,e,a){var i=new XMLHttpRequest,r=new FormData,s=o.a.get("token"),d=(new Date).getTime(),u=Object(n["l"])(1e3,9999);r=JSON.stringify(t),i.open("post",c+"/report/contract/exportContract",!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Authorization",o.a.get("Authorization")),i.setRequestHeader("token",s),i.setRequestHeader("signature",l()(e+s+u+d+"")),i.setRequestHeader("nonce",u),i.setRequestHeader("timestamp",d),i.responseType="blob",i.onload=function(t){var e=i.response,n="合同信息.xls",r=document.createElement("a");r.download=n,r.style.display="none";var o=new Blob([e]);if(window.navigator.msSaveBlob)try{window.navigator.msSaveBlob(o,n)}catch(s){console.log(s)}else r.href=URL.createObjectURL(o),document.body.appendChild(r),r.click(),document.body.removeChild(r);a&&a()},i.send(r)},queryByContractStatusPortrait:function(t){return i["a"].post("/report/contract/queryByContractStatusPortrait",t,{baseURL:c}).then(function(t){return t})},queryByContractMoneyPortrait:function(t){return i["a"].post("/report/contract/queryByContractMoneyPortrait",t,{baseURL:c}).then(function(t){return t})},queryByContractApprovePortrait:function(t){return i["a"].post("/report/contract/queryByContractApprovePortrait",t,{baseURL:c}).then(function(t){return t})},queryByContractSampleUsagePortrait:function(t){return i["a"].post("/report/contract/queryByContractSampleUsagePortraitPie",t,{baseURL:c}).then(function(t){return t})},queryByContractElectricSignPortrait:function(t){return i["a"].post("/report/contract/queryByContractElectricSignPortrait",t,{baseURL:c}).then(function(t){return t})},queryByContractTypePortrait:function(t){return i["a"].post("/report/contract/queryByContractTypePortrait",t,{baseURL:c}).then(function(t){return t})},queryByContractPrintStamp:function(t){return i["a"].post("/report/contract/queryByContractPrintStamp",t,{baseURL:c}).then(function(t){return t})},queryByContractPrintOrder:function(t){return i["a"].post("/report/contract/queryByContractPrintOrder",t,{baseURL:c}).then(function(t){return t})},queryByContractApproveCondition:function(t){return i["a"].post("/report/contract/queryByContractApproveCondition",t,{baseURL:c}).then(function(t){return t})},queryByContractCountManager:function(t){return i["a"].post("/report/contract/queryByContractCountManager",t,{baseURL:c}).then(function(t){return t})},queryBySigleContractCountManager:function(t){return i["a"].post("/report/contract/queryBySigleContractCountManager",t,{baseURL:c}).then(function(t){return t})},queryHomeContractReport:function(t){return i["a"].post("/report/contract/queryHomeContractReport",t,{baseURL:c}).then(function(t){return t})}};e["a"]=d},af67:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractApprovalChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.dataTitle,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row)+"\n              ")]}}])}),t._l(t.legends,function(e,i){return a("el-table-column",{key:i,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{on:{click:function(a){return t.getMoreInfo(t.apiData[e.$index].dataList[i])}}},[t._v("\n                    "+t._s(t.apiData[e.$index].dataList[i].indexData)+"\n                    "+t._s(t.apiData[e.$index].dataList[i].indexCode.indexOf("INDEX_TIMELY_RATE")>=0?"%":"")+"\n                  ")])]}}],null,!0)})})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=(a("2f62"),a("f08d")),c={components:{contractList:l["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:[],seriesData:[],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null,yAxis:[],yData:[],yTitle:""}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"审批时效统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,s["a"].exportContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.reportData=[],this.legends=[],this.yData=[],s["a"].queryByContractApproveCondition(this.queryParams).then(function(e){if("000000"===e.code){t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){t.dataTitle.push(e.indexName),e.dataList&&e.dataList.length>0&&e.dataList.forEach(function(e){var a=t.legends.indexOf(e.indexName);a<0&&(t.legends.push(e.indexName),a=t.legends.indexOf(e.indexName)),e.indexCode.indexOf("INDEX_TIMELY_RATE")>=0?(t.yData.push(e.indexData),t.yTitle=e.indexName):t.reportData[a]?t.reportData[a].push(e.indexData):t.reportData.push([e.indexData])})}),t.seriesData=[];var a=0;t.legends.forEach(function(e){if(t.yTitle!==e){var i={type:"bar"};i.name=t.legends[a],i.data=t.reportData[a],t.seriesData.push(i)}a++}),t.seriesData.push({name:t.yTitle,type:"line",yAxisIndex:1,data:t.yData,itemStyle:{normal:{label:{show:!0,formatter:"{c}%"},labelLine:{show:!0}}}}),t.yAxis=[{type:"value",scale:!0,name:"合同数",min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"百分比",max:100,min:0,boundaryGap:[.2,.2]}]}t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractApprovalChart"));this.eCharts=t;var e={};this.dataTitle.length>3&&(e={interval:0,rotate:60,textStyle:{align:"right"}}),t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle,axisLabel:e},yAxis:[{type:"value",scale:!0,name:"合同数",min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"百分比",max:100,min:0,boundaryGap:[.2,.2]}],legend:{bottom:"bottom"},color:["#2e76ca","#5fcb9f","#f5be51","#5dccd8"],series:this.seriesData}),t.on("click",function(t){console.log(t,"drawLine")})}}},d=c,u=a("0c7c"),h=Object(u["a"])(d,i,n,!1,null,null,null);e["a"]=h.exports},c71c:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractPrintChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.dataTitle,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row)+"\n              ")]}}])}),t._l(t.legends,function(e,i){return a("el-table-column",{key:i,attrs:{label:e}},[[a("el-link",{on:{click:function(e){return t.getMoreInfo(t.apiData[i])}}},[t._v("\n                    "+t._s(t.apiData[i].indexData)+"\n                    "+t._s("INDE_ONLINE_RATE1"===t.apiData[i].indexCode?"%":"")+"\n                  ")])]],2)})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=(a("2f62"),a("f08d")),c={components:{contractList:l["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[""],drawStyle:{},apiData:[],legends:[],seriesData:[],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"用印顺序情况统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,s["a"].exportContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.reportData=[],this.legends=[],this.yData=[],s["a"].queryByContractPrintOrder(this.queryParams).then(function(e){if("000000"===e.code){t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){t.legends.push(e.indexName),t.reportData.push(e.indexData)}),t.seriesData=[];var a=0;t.legends.forEach(function(e){var i={type:"bar"};i.name=t.legends[a],i.data=[t.reportData[a]],t.seriesData.push(i),a++})}t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractPrintChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle},yAxis:{},legend:{bottom:"bottom"},color:["#2e76ca","#5dccd8","#5fcb9f","#f5be51"],series:this.seriesData}),t.on("click",function(t){console.log(t,"drawLine")})}}},d=c,u=a("0c7c"),h=Object(u["a"])(d,i,n,!1,null,null,null);e["a"]=h.exports},f08d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{"element-loading-text":"正在导出，请稍后..."}},[a("div",{staticStyle:{width:"100%","text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.exportData}},[t._v("导出")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"moreTable",staticStyle:{width:"99%"},attrs:{data:t.tableData,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"contractName",label:"合同名称"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("a",{staticClass:"pointer",on:{click:function(e){return t.handleDetail(i)}}},[t._v(t._s(i.contractName))])]}}])}),a("el-table-column",{attrs:{prop:"contractNo",label:"合同编号"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("a",{staticClass:"pointer",on:{click:function(e){return t.handleDetail(i)}}},[t._v(t._s(i.contractNo))])]}}])}),a("el-table-column",{attrs:{prop:"contractDesc",label:"合同描述","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ourEntityName",label:"我方签约主体","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"otherEntityName",label:"对方签约主体","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"includedAmount",label:"含税合同金额（元）",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n                "+t._s(null==a.includedAmount?"":a.includedAmount/100)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"approvalTime",label:"完成审批日期"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n                "+t._s(null!=a.approvalTime?a.approvalTime.substr(0,11):"")+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"contractTypeCode",label:"合同类型"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("DictCodeToDictName",{attrs:{parentCode:"INCOME_EXPE_TYPE",dictCode:e.contractTypeCode}})]}}])}),a("el-table-column",{attrs:{prop:"statue",label:"合同状态"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("DictCodeToDictName",{attrs:{parentCode:"CONTRACT_STATUE",dictCode:e.statue}})]}}])}),a("el-table-column",{attrs:{prop:"orgName",label:"主办部门"}}),a("el-table-column",{attrs:{prop:"managerName",label:"经办人"}})],1),a("common-pagination",{attrs:{list:t.pager},on:{"handler-currentPage":t.handlerPage}})],1)},n=[],r={data:function(){return{loading:!1,dlgVisiable2:!1,isLoading:!1,popData:[]}},props:{tableData:{type:Array,default:function(){return[]}},pager:{type:Object,default:function(){}}},methods:{handleDetail:function(t){this.$router.push({name:"singleContract",query:{id:row.contractId,type:"view",ispdf:"pdf"}})},handlerPage:function(t){var e=this;this.loading=!0,setTimeout(function(){e.$emit("handlerPage",t,function(){e.loading=!1})},100)},exportData:function(){var t=this;this.isLoading=!0,setTimeout(function(){t.$emit("exportData",function(){t.isLoading=!1})},100)}}},o=r,s=a("0c7c"),l=Object(s["a"])(o,i,n,!1,null,null,null);e["a"]=l.exports},fcdf:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractSignChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.dataTitle,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n                      "+t._s(e.row)+"\r\n                  ")]}}])}),t._l(t.legends,function(e,i){return a("el-table-column",{key:i,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{on:{click:function(a){return t.getMoreInfo(t.apiData[e.$index].dataList[i])}}},[t._v("\r\n                        "+t._s(t.apiData[e.$index].dataList[i].indexData)+"\r\n                        "+t._s("INDE_ONLINE_RATE"===t.apiData[e.$index].dataList[i].indexCode?"%":"")+"\r\n                      ")])]}}],null,!0)})})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=a("2f62"),c=a("f08d"),d={components:{contractList:c["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:[],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,yAxis:[],yData:[],yTitle:"",eCharts:null}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"电签使用情况"}},showYAxis:{type:Boolean,default:function(){return!0}}},watch:{queryParams:function(t){this.drawEcharts()}},computed:o()({},Object(l["c"])({userInfo:function(t){return t.common.userInfo}})),created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,s["a"].exportContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0,console.log(this.apiData)},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t,e){this.searchForm=o()({},this.queryParams),t.dataList&&t.dataList.length>0?this.searchForm.indexEnum=t.dataList[e].indexCode:this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(t){var e=this;this.seriesData=[],this.dataTitle=[],this.reportData=[],this.legends=[],this.yData=[],s["a"].queryByContractElectricSignPortrait(this.queryParams).then(function(t){if("000000"===t.code){e.apiData=t.data,e.apiData&&e.apiData.length>0&&e.apiData.forEach(function(t){e.dataTitle.push(t.indexName),t.dataList&&t.dataList.length>0&&t.dataList.forEach(function(t){var a=e.legends.indexOf(t.indexName);a<0&&(e.legends.push(t.indexName),a=e.legends.indexOf(t.indexName)),t.indexCode.indexOf("INDE_ONLINE_RATE")>=0?(e.yData.push(t.indexData),e.yTitle=t.indexName):e.reportData[a]?e.reportData[a].push(t.indexData):e.reportData.push([t.indexData])})}),e.seriesData=[];var a=0;e.legends.forEach(function(t){if(e.yTitle!==t){var i={type:"bar"};i.name=e.legends[a],i.data=e.reportData[a],e.seriesData.push(i)}a++})}e.showYAxis?(e.seriesData.push({name:e.yTitle,type:"line",yAxisIndex:1,data:e.yData,itemStyle:{normal:{label:{show:!0,formatter:"{c}%"},labelLine:{show:!0}}}}),e.yAxis=[{type:"value",scale:!0,name:"合同数",min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"百分比",max:100,min:0,boundaryGap:[.2,.2]}]):e.yAxis=[{type:"value",scale:!0,name:"合同数",min:0,boundaryGap:[.2,.2]}],e.$nextTick(function(){e.drawLine()})}).catch(function(t){e.$message({type:"error",message:"查询合同数据出错"})}),t&&t()},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractSignChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle},yAxis:this.yAxis,legend:{bottom:"bottom"},color:["#2e76ca","#5fcb9f","#f5be51","#5dccd8"],series:this.seriesData}),t.on("click",function(t){console.log(t,"drawLine")})}}},u=d,h=a("0c7c"),p=Object(h["a"])(u,i,n,!1,null,null,null);e["a"]=p.exports},fd20:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractTemplateChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:["1"],"highlight-current-row":!0,"tooltip-effect":"dark"}},t._l(t.dataTitle,function(e,i){return a("el-table-column",{key:i,attrs:{label:e}},[[a("el-link",{on:{click:function(e){return t.getMoreInfo(t.apiData[i])}}},[t._v(t._s(t.reportData[i].value)+"%")])]],2)}),1)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9981"),l=a("2f62"),c=a("f08d"),d={components:{contractList:c["a"]},data:function(){return{loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:["合同数"],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{},pager:{pageSize:10,currentPage:1,total:0},isLoading:!1,eCharts:null}},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"范本使用情况统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},computed:o()({},Object(l["c"])({userInfo:function(t){return t.common.userInfo}})),created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?s["a"].exportContract(this.searchForm,this.userInfo.userId,t):s["a"].exportSnapContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?s["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()}):s["a"].querySnapContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t){console.log(this.apiData),this.searchForm=o()({},this.queryParams),this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(t){var e=this;this.dataTitle=[],this.reportData=[],this.legends=[],s["a"].queryByContractSampleUsagePortrait(this.queryParams).then(function(t){"000000"===t.code&&(e.apiData=t.data,e.apiData&&e.apiData.length>0&&e.apiData.forEach(function(t){t.indexCode.indexOf("RATE")>=0&&(e.dataTitle.push(t.indexName),e.legends.push(t.indexName),e.reportData.push({value:t.indexData,name:t.indexName}))})),e.$nextTick(function(){e.drawLine()})}).catch(function(t){e.$message({type:"error",message:"查询合同状态数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractTemplateChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},legend:{bottom:"bottom"},tooltip:{formatter:function(t,e,a){var i=t.data.name+"："+t.data.value+"%";return i}},series:[{type:"pie",data:this.reportData,radius:"55%",itemStyle:{normal:{color:function(t){var e=["#5dccd8","#2e76ca","#5fcb9f","#d48265","#91c7ae","#749f83","#ca8622"];return e[t.dataIndex]},label:{show:!0,formatter:"{d}%"},labelLine:{show:!0}}}}]}),t.on("click",function(t){console.log(t,"drawLine")})}}},u=d,h=a("0c7c"),p=Object(h["a"])(u,i,n,!1,null,null,null);e["a"]=p.exports},fee4:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echart2",style:t.drawStyle,attrs:{id:"contractStatusChart"},on:{click:t.showTableLevel}}),a("el-dialog",{attrs:{title:t.title,visible:t.dlgVisiable,width:"60%"},on:{"update:visible":function(e){t.dlgVisiable=e}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"99%"},attrs:{data:t.legends,"highlight-current-row":!0,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._l(t.dataTitle,function(e,i){return a("el-table-column",{key:i,attrs:{label:e}},[[a("el-link",{on:{click:function(e){return t.getMoreInfo(t.apiData[i])}}},[t._v(t._s(t.reportData[i]))])]],2)})],2)],1),a("el-dialog",{attrs:{title:t.title2,visible:t.dlgVisiable2,width:"75%"},on:{"update:visible":function(e){t.dlgVisiable2=e}}},[a("contractList",{attrs:{tableData:t.tableData,pager:t.pager},on:{handlerPage:t.handlerPage,exportData:t.exportData}})],1)],1)},n=[],r=a("3156"),o=a.n(r),s=a("9523"),l=a.n(s),c=a("9981"),d=a("2f62"),u=a("f08d"),h={components:{contractList:u["a"]},data:function(){var t;return t={loading:!1,tableData:[],reportData:[],dataTitle:[],drawStyle:{},apiData:[],legends:["合同数"],dlgVisiable:!1,dlgVisiable2:!1,title2:"",searchForm:{pageSize:10,currentPage:1,total:0}},l()(t,"searchForm",{}),l()(t,"pager",{pageSize:10,currentPage:1,total:0}),l()(t,"isLoading",!1),l()(t,"eCharts",null),t},model:{prop:"queryParams",event:"change"},props:{width:{type:String,default:function(){return"100%"}},height:{type:String,default:function(){return"400px"}},queryParams:{type:Object,default:function(){}},title:{type:String,default:function(){return"按合同状态统计"}}},watch:{queryParams:function(t){this.drawEcharts()}},computed:o()({},Object(d["c"])({userInfo:function(t){return t.common.userInfo}})),created:function(){window.addEventListener("resize",this.resizeChart,!0)},destroyed:function(){window.removeEventListener("resize",this.resizeChart,!0)},mounted:function(){this.drawStyle={width:this.width,height:this.height},this.drawEcharts()},methods:{exportData:function(t){this.isLoading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?c["a"].exportContract(this.searchForm,this.userInfo.userId,t):c["a"].exportSnapContract(this.searchForm,this.userInfo.userId,t)},showTableLevel:function(){this.dlgVisiable=!0},handlerPage:function(t,e){var a=this,i=o()({},this.searchForm,this.pager);i.pageSize=t?t.pageSize:i.pageSize,i.currentPage=t?t.currentPage:1,this.loading=!0,"INDEX_APPROVED_COUNT"===this.searchForm.indexEnum?c["a"].queryContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()}):c["a"].querySnapContract(i).then(function(t){"000000"===t.code&&(a.tableData=t.data.records,a.pager=o()({},a.pager,{total:t.data.total,currentPage:t.data.current,pageSize:t.data.size})),e&&e()}).catch(function(t){e&&e()})},getMoreInfo:function(t){this.searchForm=o()({},this.queryParams),this.searchForm.indexEnum=t.indexCode,this.pager.pageSize=10,this.pager.currentPage=1,this.handlerPage(),this.dlgVisiable2=!0,this.title2=this.title+" - "+t.indexName},drawEcharts:function(){this.queryData()},queryData:function(){var t=this;this.dataTitle=[],this.reportData=[],c["a"].queryByContractStatusPortrait(this.queryParams).then(function(e){"000000"===e.code&&(t.apiData=e.data,t.apiData&&t.apiData.length>0&&t.apiData.forEach(function(e){t.dataTitle.push(e.indexName),t.reportData.push(e.indexData)})),t.$nextTick(function(){t.drawLine()})}).catch(function(e){t.$message({type:"error",message:"查询合同状态数据出错"})})},resizeChart:function(){this.eCharts.resize()},drawLine:function(){var t=this.$echarts.init(document.getElementById("contractStatusChart"));this.eCharts=t,t.setOption({title:{text:this.title,x:"center",y:"top",textAlign:"left"},tooltip:{},xAxis:{data:this.dataTitle,axisLabel:{interval:0,rotate:0,textStyle:{align:"center"}}},yAxis:{},series:[{type:"bar",data:this.reportData,itemStyle:{normal:{color:function(t){var e=["#2e76ca","#5dccd8","#5fcb9f","#f5be51","#419cd5","#749f83","#ca8622"];return e[t.dataIndex]}}}}]})}}},p=h,g=a("0c7c"),f=Object(g["a"])(p,i,n,!1,null,null,null);e["a"]=f.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15503c07"],{2152:function(e,a,t){var c=t("cc17");"string"===typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);var o=t("499e").default;o("b09d40b2",c,!0,{sourceMap:!1,shadowMode:!1})},"7bea":function(e,a,t){"use strict";var c=t("2152"),o=t.n(c);o.a},cc17:function(e,a,t){a=e.exports=t("c356")(!1),a.push([e.i,"blockquote[data-v-8a2cc2ec],body[data-v-8a2cc2ec],dd[data-v-8a2cc2ec],dl[data-v-8a2cc2ec],dt[data-v-8a2cc2ec],fieldset[data-v-8a2cc2ec],h1[data-v-8a2cc2ec],h2[data-v-8a2cc2ec],h3[data-v-8a2cc2ec],h4[data-v-8a2cc2ec],h5[data-v-8a2cc2ec],h6[data-v-8a2cc2ec],input[data-v-8a2cc2ec],ol[data-v-8a2cc2ec],p[data-v-8a2cc2ec],pre[data-v-8a2cc2ec],td[data-v-8a2cc2ec],textarea[data-v-8a2cc2ec],th[data-v-8a2cc2ec],ul[data-v-8a2cc2ec]{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body[data-v-8a2cc2ec],html[data-v-8a2cc2ec]{overflow:hidden}body .el-table colgroup.gutter[data-v-8a2cc2ec],body .el-table th.gutter[data-v-8a2cc2ec]{display:table-cell!important}table[data-v-8a2cc2ec]{border-collapse:collapse;border-spacing:0;empty-cells:show}ul[data-v-8a2cc2ec]{list-style:none}input[data-v-8a2cc2ec]:-webkit-autofill,select[data-v-8a2cc2ec]:-webkit-autofill,textarea[data-v-8a2cc2ec]:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium[data-v-8a2cc2ec]{vertical-align:bottom!important}.el-select__input[data-v-8a2cc2ec]{vertical-align:baseline}input[data-v-8a2cc2ec]{background-color:transparent}input[data-v-8a2cc2ec]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white[data-v-8a2cc2ec]{background:#fff}.pl24[data-v-8a2cc2ec]{padding-left:24px}.pd16[data-v-8a2cc2ec]{padding:16px}.pd24[data-v-8a2cc2ec]{padding:24px}.pd24_1[data-v-8a2cc2ec],.pdl24[data-v-8a2cc2ec]{padding-left:24px}.pd24_1[data-v-8a2cc2ec]{padding-bottom:24px}.tc[data-v-8a2cc2ec]{text-align:center}.tr[data-v-8a2cc2ec]{text-align:right}.white[data-v-8a2cc2ec]{color:#fff}.flex[data-v-8a2cc2ec]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between[data-v-8a2cc2ec]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center[data-v-8a2cc2ec],.flex-center-between[data-v-8a2cc2ec]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center[data-v-8a2cc2ec]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around[data-v-8a2cc2ec]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-8a2cc2ec]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-8a2cc2ec],.flex-center-end[data-v-8a2cc2ec]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end[data-v-8a2cc2ec]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start[data-v-8a2cc2ec]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5[data-v-8a2cc2ec]{margin-left:5px}.ml10[data-v-8a2cc2ec]{margin-left:10px}.ml15[data-v-8a2cc2ec]{margin-left:15px}.ml20[data-v-8a2cc2ec]{margin-left:20px}.mr10[data-v-8a2cc2ec]{margin-right:10px}.mr20[data-v-8a2cc2ec]{margin-right:20px}.mt10[data-v-8a2cc2ec]{margin-top:10px}.mt16[data-v-8a2cc2ec]{margin-top:16px}.mt20[data-v-8a2cc2ec]{margin-top:20px}.mt24[data-v-8a2cc2ec]{margin-top:24px}.mb16[data-v-8a2cc2ec]{margin-bottom:16px}.mb20[data-v-8a2cc2ec]{margin-bottom:20px}.mb24[data-v-8a2cc2ec]{margin-bottom:24px}.p15[data-v-8a2cc2ec]{padding:15px}.p20[data-v-8a2cc2ec]{padding:20px}.p25[data-v-8a2cc2ec]{padding:25px}.pt10[data-v-8a2cc2ec]{padding-top:10px}.pt30[data-v-8a2cc2ec]{padding-top:30px}.pr20[data-v-8a2cc2ec]{padding-right:20px}.pb24[data-v-8a2cc2ec]{padding-bottom:24px}.el-drawer__body[data-v-8a2cc2ec]{overflow:auto!important}.pointer[data-v-8a2cc2ec]{cursor:pointer}img[data-v-8a2cc2ec]{border:0}textarea[data-v-8a2cc2ec]{resize:none}caption[data-v-8a2cc2ec],th[data-v-8a2cc2ec]{text-align:left}em[data-v-8a2cc2ec],i[data-v-8a2cc2ec]{font-style:normal}hr[data-v-8a2cc2ec]{margin-top:0;margin-bottom:0}a[data-v-8a2cc2ec]:focus{outline:none!important}a[data-v-8a2cc2ec]{text-decoration:none!important;color:#2393f7}.el-drawer[data-v-8a2cc2ec]:focus,button[data-v-8a2cc2ec]:focus,input[data-v-8a2cc2ec]:focus{outline:none;-moz-outline:none}.__view[data-v-8a2cc2ec]{width:0!important}.form-bg[data-v-8a2cc2ec]{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner[data-v-8a2cc2ec]{color:#303133;font-size:14px}.form-bg .el-textarea__inner[data-v-8a2cc2ec]{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner[data-v-8a2cc2ec]{color:#303133;font-size:14px}.w-100[data-v-8a2cc2ec]{width:100%!important}.t-l[data-v-8a2cc2ec]{text-align:left}.list-search[data-v-8a2cc2ec]{width:100%}.el-icon-document-copy[data-v-8a2cc2ec]{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size[data-v-8a2cc2ec]{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right[data-v-8a2cc2ec]{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active[data-v-8a2cc2ec]{text-align:center!important}.color-blue[data-v-8a2cc2ec]{color:#0070c1}.el-menu--collapse[data-v-8a2cc2ec]{width:auto}.common-footer-box[data-v-8a2cc2ec]{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer[data-v-8a2cc2ec]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content[data-v-8a2cc2ec]{margin-left:14%;width:77%}.ft18[data-v-8a2cc2ec]{font-size:18px}.ft16[data-v-8a2cc2ec]{font-size:16px}.ft10[data-v-8a2cc2ec]{padding-top:20px;font-size:14px}.ft25[data-v-8a2cc2ec]{font-size:25px}.el-dialog__header[data-v-8a2cc2ec]{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node[data-v-8a2cc2ec],.is-expanded[data-v-8a2cc2ec],.is-focusable[data-v-8a2cc2ec]{color:#606266}.is-current[data-v-8a2cc2ec]{color:#2393f7}.bg100[data-v-8a2cc2ec]{height:100px}li[data-v-8a2cc2ec]{list-style:none}.el-menu--popup-right-start[data-v-8a2cc2ec]{margin-left:0}.el-step__description.is-finish[data-v-8a2cc2ec]{color:#303133}.el-step__title.is-finish[data-v-8a2cc2ec]{color:#303133!important}.el-step__head.is-finish[data-v-8a2cc2ec]{color:#303133;border-color:#303133}.el-step__description.is-wait[data-v-8a2cc2ec],.el-step__title.is-wait[data-v-8a2cc2ec]{color:#303133}.el-step__head.is-wait[data-v-8a2cc2ec]{color:#303133;border-color:#303133}.el-step__line[data-v-8a2cc2ec]{background-color:#303133}.el-tooltip__popper[data-v-8a2cc2ec]{max-width:20%}.underline[data-v-8a2cc2ec]{text-decoration:underline;color:#2393f7}.modlue-box[data-v-8a2cc2ec]{width:100%;height:100%;position:fixed;z-index:20}.viewOffice[data-v-8a2cc2ec]{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control[data-v-8a2cc2ec]{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control[data-v-8a2cc2ec]{height:32px}.vue-treeselect__menu[data-v-8a2cc2ec]{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value[data-v-8a2cc2ec]{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular[data-v-8a2cc2ec]{display:none}.modlue-box .el-loading-spinner .el-loading-text[data-v-8a2cc2ec]{font-size:16px}.radio-cont[data-v-8a2cc2ec]{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio[data-v-8a2cc2ec]{padding-bottom:14px}.setradio .el-radio[data-v-8a2cc2ec]{padding:0;width:100%;background:#fff}.setradio .el-radio[data-v-8a2cc2ec],.setradio .el-radio__input[data-v-8a2cc2ec]{white-space:normal}.setradio .el-radio__label[data-v-8a2cc2ec]{padding:0}.setradio .el-radio.is-bordered.is-checked[data-v-8a2cc2ec]{border:2px solid #409eff}.setradio .el-radio-group[data-v-8a2cc2ec]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input[data-v-8a2cc2ec]{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner[data-v-8a2cc2ec]{width:16px;height:16px}.radio-img img[data-v-8a2cc2ec]{width:50px}.radio-rig[data-v-8a2cc2ec]{margin-left:10px}.radio-rig span[data-v-8a2cc2ec]{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p[data-v-8a2cc2ec]{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind[data-v-8a2cc2ec]{display:block}.box-solid-bt[data-v-8a2cc2ec]{border-bottom:1px solid #eee;margin-bottom:16px}.border-top[data-v-8a2cc2ec]{margin-top:15px;padding-top:15px}.border-top[data-v-8a2cc2ec],.tp-das[data-v-8a2cc2ec]{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text[data-v-8a2cc2ec]{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close[data-v-8a2cc2ec]{top:-5px}.el-submenu__title[data-v-8a2cc2ec]{border:none}.vue-treeselect__menu-container[data-v-8a2cc2ec],.vue-treeselect__portal-target[data-v-8a2cc2ec]{z-index:90000000000000!important}.el-tag.el-tag--info[data-v-8a2cc2ec]{color:#303133;font-size:14px}.terms .resetButton[data-v-8a2cc2ec]{border:1px solid #bbbfc4}.terms .tableCol[data-v-8a2cc2ec],.terms .tableColQuery[data-v-8a2cc2ec]{color:#2393f7;cursor:pointer}.terms .tableCol[data-v-8a2cc2ec]{margin-left:12px}",""])},da44:function(e,a,t){"use strict";t.r(a);var c=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"terms"},[t("div",{staticClass:"bg-white mb24 pd24"},[t("el-form",{class:e.show?"over-vis":"over-hid",attrs:{model:e.searchForm,"label-width":"100px"}},[t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"用户编号",prop:"userCode"}},[t("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:e.searchForm.userCode,callback:function(a){e.$set(e.searchForm,"userCode",a)},expression:"searchForm.userCode"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"组织编号",prop:"orgCode"}},[t("el-input",{attrs:{placeholder:"请输入组织编号"},model:{value:e.searchForm.orgCode,callback:function(a){e.$set(e.searchForm,"orgCode",a)},expression:"searchForm.orgCode"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"角色编码",prop:"roleCode"}},[t("el-input",{attrs:{placeholder:"请输入角色编码"},model:{value:e.searchForm.roleCode,callback:function(a){e.$set(e.searchForm,"roleCode",a)},expression:"searchForm.roleCode"}})],1)],1)],1),t("el-row",{attrs:{gutter:24}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:e.searchForm.userName,callback:function(a){e.$set(e.searchForm,"userName",a)},expression:"searchForm.userName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"组织名称",prop:"orgName"}},[t("el-input",{attrs:{placeholder:"请输入组织名称"},model:{value:e.searchForm.orgName,callback:function(a){e.$set(e.searchForm,"orgName",a)},expression:"searchForm.orgName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入角色名称"},model:{value:e.searchForm.roleName,callback:function(a){e.$set(e.searchForm,"roleName",a)},expression:"searchForm.roleName"}}),e._v("\n                           \n                        "),t("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:e.formSearchMethod}},[e._v("查询\n                        ")])],1)],1)],1)],1)],1),t("div",{staticClass:"bg-white user-form-table pd24"},[t("el-alert",{attrs:{title:"此处需要对用户分配data类型的角色后，才能查询到",type:"info"}}),t("el-table",{staticClass:"mt10 md20",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","highlight-current-row":"","header-cell-style":{background:"#f3f3f3"},size:"small"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"index",label:"序号"}}),t("el-table-column",{attrs:{prop:"userCode",label:"用户编码"}}),t("el-table-column",{attrs:{prop:"userName",label:"用户姓名"}}),t("el-table-column",{attrs:{prop:"orgCode",label:"组织编码"}}),t("el-table-column",{attrs:{prop:"orgName",label:"组织名称"}}),t("el-table-column",{attrs:{prop:"roleCode",label:"角色编码"}}),t("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),t("el-table-column",{attrs:{prop:"fillDate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.editDeputyAcc(a.row)}}},[e._v("分配数据权限")])]}}])})],1),t("common-pagination",{attrs:{list:e.searchForm},on:{"handler-currentPage":e.handlerCurrentPage}})],1),t("el-dialog",{attrs:{title:"分配数据权限",width:"70%",visible:e.dlgDeputyVisible},on:{"update:visible":function(a){e.dlgDeputyVisible=a}}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",[e._v("选择组织")]),t("CommonOrgTree",{ref:"orgTree",attrs:{showBtn:!1},on:{"check-ok":e.getCheckOrg},model:{value:e.checkedKeys,callback:function(a){e.checkedKeys=a},expression:"checkedKeys"}})],1),t("el-col",{attrs:{span:12}},[t("div",[e._v("选择事业部")]),t("el-tree",{ref:"unitTree",attrs:{data:e.treeData,"highlight-current":"","node-key":"unitCode",props:e.defaultProps,"show-checkbox":"","default-expanded-keys":["00000000"]}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dlgDeputyVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:e.btnClickFlag},on:{click:e.saveData}},[e._v("确 定")])],1)],1)],1)},o=[],r=t("3156"),i=t.n(r),l=t("a34a"),n=t.n(l),d=t("c973"),s=t.n(d),p=t("b1b9"),u=t("b775"),m={name:"",components:{},data:function(){return{LOGIN_URL:"https://ylht.yili.com/api/isump",btnClickFlag:!1,tableData:[],checkedKeys:[],checkedUnitKeys:[],value:"",treeData:[{id:26,unitCode:"00000000",unitName:"事业部",isn:"1",children:[]}],dlgDeputyVisible:!1,show:!1,searchForm:{pageNum:1,pageSize:10,total:0},userId:null,defaultProps:{label:"unitName",isLeaf:function(e,a){return"1"!==e.isn}},selectNode:{}}},created:function(){},mounted:function(){var e=this;this.formSearchMethod(),Object(p["a"])({}).then(function(a){e.treeData[0].children=a.data})},methods:{formSearchMethod:function(){this.searchForm.currentPage=1,this.searchForm.pageSize=10,this.queryUser(this.searchForm)},openType:function(){this.dialogVisible=!0},handlerCurrentPage:function(e){this.searchForm.currentPage=e.currentPage,this.queryUser(this.searchForm)},queryUser:function(e){var a=this;return s()(n.a.mark(function t(){var c,o,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.roleId=-1,e.roleType="data",t.next=4,Object(p["f"])(e);case 4:c=t.sent,o=c.code,r=c.data,o&&"000000"===o&&(a.searchForm.total=r.total,a.searchForm.currentPage=r.pageNo,a.searchForm.pageSize=r.pageSize,a.tableData=r.content);case 8:case"end":return t.stop()}},t)}))()},handleSelectionChange:function(e){this.userId=e.userId},editDeputyAcc:function(e){var a=this;this.selectNode=i()({},e),u["a"].post("/isump/deputy-account-role/selectDeputyAccountRoleOrgAndUnit",{deputyAccountRoleId:e.deputyAccountRoleId},{baseURL:this.LOGIN_URL}).then(function(e){if(e.code="000000"){var t=e.data.deputyAccountRoleOrgList,c=e.data.deputyAccountRoleUnitList;a.checkedKeys=[],t.forEach(function(e){a.checkedKeys.push(e.orgCode)});var o=[];c.forEach(function(e){o.push(e.unitCode)}),a.dlgDeputyVisible=!0,a.$nextTick(function(){a.$refs.unitTree.setCheckedKeys(o)})}}).catch(function(e){a.$message({message:"获取数据权限失败",type:"warning"})})},getCheckOrg:function(e){},saveData:function(){var e=this,a=this.$refs.orgTree.clickHandle(),t=this.$refs.unitTree.getCheckedNodes(t);this.btnClickFlag=!0,setTimeout(function(){var c={deputyAccountRoleId:e.selectNode.deputyAccountRoleId,deputyAccountId:e.selectNode.deputyAccountId,roleId:e.selectNode.roleId,deputyAccountRoleOrgList:[],deputyAccountRoleUnitList:[]};a&&a.forEach(function(a){var t={orgCode:a.orgCode,orgId:a.orgId,orgName:a.orgName,userId:e.selectNode.userId,deputyAccountId:e.selectNode.deputyAccountId,deputyAccountRoleId:e.selectNode.deputyAccountRoleId};c.deputyAccountRoleOrgList.push(t)}),t&&t.forEach(function(a){var t={unitCode:a.unitCode,unitId:a.unitId,unitName:a.unitName,userId:e.selectNode.userId,deputyAccountId:e.selectNode.deputyAccountId,deputyAccountRoleId:e.selectNode.deputyAccountRoleId};c.deputyAccountRoleUnitList.push(t)}),u["a"].post("/isump/deputy-account-role/saveDeputyAccountRoleOrgAndUnit",c,{baseURL:e.LOGIN_URL}).then(function(a){(a.code="000000")&&(e.dlgDeputyVisible=!1,e.$message({message:"保存数据成功",type:"success"})),e.btnClickFlag=!1}).catch(function(a){e.btnClickFlag=!1,e.$message({message:"保存数据失败",type:"error"})})},500)}}},v=m,f=(t("7bea"),t("0c7c")),b=Object(f["a"])(v,c,o,!1,null,"8a2cc2ec",null);a["default"]=b.exports}}]);
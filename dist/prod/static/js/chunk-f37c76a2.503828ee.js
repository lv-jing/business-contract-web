(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f37c76a2"],{"0358":function(e,t,a){t=e.exports=a("c356")(!1),t.push([e.i,"blockquote[data-v-30513928],body[data-v-30513928],dd[data-v-30513928],dl[data-v-30513928],dt[data-v-30513928],fieldset[data-v-30513928],h1[data-v-30513928],h2[data-v-30513928],h3[data-v-30513928],h4[data-v-30513928],h5[data-v-30513928],h6[data-v-30513928],input[data-v-30513928],ol[data-v-30513928],p[data-v-30513928],pre[data-v-30513928],td[data-v-30513928],textarea[data-v-30513928],th[data-v-30513928],ul[data-v-30513928]{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body[data-v-30513928],html[data-v-30513928]{overflow:hidden}body .el-table colgroup.gutter[data-v-30513928],body .el-table th.gutter[data-v-30513928]{display:table-cell!important}table[data-v-30513928]{border-collapse:collapse;border-spacing:0;empty-cells:show}ul[data-v-30513928]{list-style:none}input[data-v-30513928]:-webkit-autofill,select[data-v-30513928]:-webkit-autofill,textarea[data-v-30513928]:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium[data-v-30513928]{vertical-align:bottom!important}.el-select__input[data-v-30513928]{vertical-align:baseline}input[data-v-30513928]{background-color:transparent}input[data-v-30513928]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white[data-v-30513928]{background:#fff}.pl24[data-v-30513928]{padding-left:24px}.pd16[data-v-30513928]{padding:16px}.pd24[data-v-30513928]{padding:24px}.pd24_1[data-v-30513928],.pdl24[data-v-30513928]{padding-left:24px}.pd24_1[data-v-30513928]{padding-bottom:24px}.tc[data-v-30513928]{text-align:center}.tr[data-v-30513928]{text-align:right}.white[data-v-30513928]{color:#fff}.flex[data-v-30513928]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between[data-v-30513928]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center[data-v-30513928],.flex-center-between[data-v-30513928]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center[data-v-30513928]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around[data-v-30513928]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-30513928]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-30513928],.flex-center-end[data-v-30513928]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end[data-v-30513928]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start[data-v-30513928]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5[data-v-30513928]{margin-left:5px}.ml10[data-v-30513928]{margin-left:10px}.ml15[data-v-30513928]{margin-left:15px}.ml20[data-v-30513928]{margin-left:20px}.mr10[data-v-30513928]{margin-right:10px}.mr20[data-v-30513928]{margin-right:20px}.mt10[data-v-30513928]{margin-top:10px}.mt16[data-v-30513928]{margin-top:16px}.mt20[data-v-30513928]{margin-top:20px}.mt24[data-v-30513928]{margin-top:24px}.mb16[data-v-30513928]{margin-bottom:16px}.mb20[data-v-30513928]{margin-bottom:20px}.mb24[data-v-30513928]{margin-bottom:24px}.p15[data-v-30513928]{padding:15px}.p20[data-v-30513928]{padding:20px}.p25[data-v-30513928]{padding:25px}.pt10[data-v-30513928]{padding-top:10px}.pt30[data-v-30513928]{padding-top:30px}.pr20[data-v-30513928]{padding-right:20px}.pb24[data-v-30513928]{padding-bottom:24px}.el-drawer__body[data-v-30513928]{overflow:auto!important}.pointer[data-v-30513928]{cursor:pointer}img[data-v-30513928]{border:0}textarea[data-v-30513928]{resize:none}caption[data-v-30513928],th[data-v-30513928]{text-align:left}em[data-v-30513928],i[data-v-30513928]{font-style:normal}hr[data-v-30513928]{margin-top:0;margin-bottom:0}a[data-v-30513928]:focus{outline:none!important}a[data-v-30513928]{text-decoration:none!important;color:#2393f7}.el-drawer[data-v-30513928]:focus,button[data-v-30513928]:focus,input[data-v-30513928]:focus{outline:none;-moz-outline:none}.__view[data-v-30513928]{width:0!important}.form-bg[data-v-30513928]{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner[data-v-30513928]{color:#303133;font-size:14px}.form-bg .el-textarea__inner[data-v-30513928]{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner[data-v-30513928]{color:#303133;font-size:14px}.w-100[data-v-30513928]{width:100%!important}.t-l[data-v-30513928]{text-align:left}.list-search[data-v-30513928]{width:100%}.el-icon-document-copy[data-v-30513928]{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size[data-v-30513928]{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right[data-v-30513928]{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active[data-v-30513928]{text-align:center!important}.color-blue[data-v-30513928]{color:#0070c1}.el-menu--collapse[data-v-30513928]{width:auto}.common-footer-box[data-v-30513928]{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer[data-v-30513928]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content[data-v-30513928]{margin-left:14%;width:77%}.ft18[data-v-30513928]{font-size:18px}.ft16[data-v-30513928]{font-size:16px}.ft10[data-v-30513928]{padding-top:20px;font-size:14px}.ft25[data-v-30513928]{font-size:25px}.el-dialog__header[data-v-30513928]{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node[data-v-30513928],.is-expanded[data-v-30513928],.is-focusable[data-v-30513928]{color:#606266}.is-current[data-v-30513928]{color:#2393f7}.bg100[data-v-30513928]{height:100px}li[data-v-30513928]{list-style:none}.el-menu--popup-right-start[data-v-30513928]{margin-left:0}.el-step__description.is-finish[data-v-30513928]{color:#303133}.el-step__title.is-finish[data-v-30513928]{color:#303133!important}.el-step__head.is-finish[data-v-30513928]{color:#303133;border-color:#303133}.el-step__description.is-wait[data-v-30513928],.el-step__title.is-wait[data-v-30513928]{color:#303133}.el-step__head.is-wait[data-v-30513928]{color:#303133;border-color:#303133}.el-step__line[data-v-30513928]{background-color:#303133}.el-tooltip__popper[data-v-30513928]{max-width:20%}.underline[data-v-30513928]{text-decoration:underline;color:#2393f7}.modlue-box[data-v-30513928]{width:100%;height:100%;position:fixed;z-index:20}.viewOffice[data-v-30513928]{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control[data-v-30513928]{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control[data-v-30513928]{height:32px}.vue-treeselect__menu[data-v-30513928]{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value[data-v-30513928]{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular[data-v-30513928]{display:none}.modlue-box .el-loading-spinner .el-loading-text[data-v-30513928]{font-size:16px}.radio-cont[data-v-30513928]{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio[data-v-30513928]{padding-bottom:14px}.setradio .el-radio[data-v-30513928]{padding:0;width:100%;background:#fff}.setradio .el-radio[data-v-30513928],.setradio .el-radio__input[data-v-30513928]{white-space:normal}.setradio .el-radio__label[data-v-30513928]{padding:0}.setradio .el-radio.is-bordered.is-checked[data-v-30513928]{border:2px solid #409eff}.setradio .el-radio-group[data-v-30513928]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input[data-v-30513928]{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner[data-v-30513928]{width:16px;height:16px}.radio-img img[data-v-30513928]{width:50px}.radio-rig[data-v-30513928]{margin-left:10px}.radio-rig span[data-v-30513928]{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p[data-v-30513928]{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind[data-v-30513928]{display:block}.box-solid-bt[data-v-30513928]{border-bottom:1px solid #eee;margin-bottom:16px}.border-top[data-v-30513928]{margin-top:15px;padding-top:15px}.border-top[data-v-30513928],.tp-das[data-v-30513928]{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text[data-v-30513928]{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close[data-v-30513928]{top:-5px}.el-submenu__title[data-v-30513928]{border:none}.vue-treeselect__menu-container[data-v-30513928],.vue-treeselect__portal-target[data-v-30513928]{z-index:90000000000000!important}.el-tag.el-tag--info[data-v-30513928]{color:#303133;font-size:14px}.workflow .resetButton[data-v-30513928]{border:1px solid #bbbfc4}.workflow .tableCol[data-v-30513928],.workflow .tableColQuery[data-v-30513928]{color:#2393f7;cursor:pointer}.workflow .tableCol[data-v-30513928]{margin-left:12px}",""])},1898:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix flex flex-center-between",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("固定规则设置")])]),a("el-row",{staticClass:"bg-white"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{model:e.searchForm,"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"规则类型",prop:"email"}},[a("CommonSelect",{attrs:{dictCode:"RULE_TYPE",clearable:!0,filterable:!0,placeholder:"请选择"},model:{value:e.searchForm.ruleType,callback:function(t){e.$set(e.searchForm,"ruleType",t)},expression:"searchForm.ruleType"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"规则名称",prop:"idCard"}},[a("el-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.searchForm.ruleName,callback:function(t){e.$set(e.searchForm,"ruleName",t)},expression:"searchForm.ruleName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:function(t){return e.handlerCurrentPage(1)}}},[e._v("查询")])],1)],1)],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.addApproval}},[e._v("新增")]),a("el-table",{staticStyle:{width:"99%"},attrs:{data:e.tableData,"highlight-current-row":!0,"v-loading":e.loading}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),a("el-table-column",{attrs:{prop:"ruleCode",label:"规则编码"}}),a("el-table-column",{attrs:{prop:"ruleName",label:"规则名称"}}),a("el-table-column",{attrs:{prop:"ruleDesc",label:"规则描述"}}),a("el-table-column",{attrs:{prop:"ruleType",label:"规则类型"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("DictCodeToDictName",{attrs:{parentCode:"RULE_TYPE",dictCode:e.row.ruleType}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.viewInfo(t.row)}}},[e._v("详情")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.deleteApproval(t.row)}}},[e._v("删除")])]}}])})],1),a("common-pagination",{attrs:{list:e.pager2},on:{"handler-currentPage":e.handlerCurrentPage}})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"固定规则设置",visible:e.dlgVisiable,width:"50%"},on:{"update:visible":function(t){e.dlgVisiable=t}}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"150px",rules:e.rules,model:e.selectNode}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"规则类型",prop:"ruleType"}},[a("CommonSelect",{attrs:{dictCode:"RULE_TYPE",clearable:!0,filterable:!0,placeholder:"请选择"},model:{value:e.selectNode.ruleType,callback:function(t){e.$set(e.selectNode,"ruleType",t)},expression:"selectNode.ruleType"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"规则编码",prop:"ruleCode"}},[a("el-input",{attrs:{placeholder:"请输入规则编码"},model:{value:e.selectNode.ruleCode,callback:function(t){e.$set(e.selectNode,"ruleCode",t)},expression:"selectNode.ruleCode"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"规则名称",prop:"ruleName"}},[a("el-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.selectNode.ruleName,callback:function(t){e.$set(e.selectNode,"ruleName",t)},expression:"selectNode.ruleName"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"规则描述",prop:"ruleDesc"}},[a("el-input",{attrs:{placeholder:"请输入规则描述"},model:{value:e.selectNode.ruleDesc,callback:function(t){e.$set(e.selectNode,"ruleDesc",t)},expression:"selectNode.ruleDesc"}})],1)],1),a("el-col",["MATRIX"===e.selectNode.ruleType?a("el-form-item",{attrs:{label:"审批矩阵明细",prop:"list"}},[a("el-button",{on:{click:e.viewList}},[e._v("查看详情")])],1):e._e()],1),a("el-col",[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",disabled:e.btnClickFlag},on:{click:e.saveApproval}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.dlgVisiable=!1}}},[e._v("关闭")])],1)])],1)],1)],1),a("el-dialog",{staticStyle:{"overflow-y":"hidden"},attrs:{title:"审批矩阵",visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审批人",prop:"userName"}},[a("el-input",{model:{value:e.searchForm1.userName,callback:function(t){e.$set(e.searchForm1,"userName",t)},expression:"searchForm1.userName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:function(t){return e.handlerCurrentPage1(1)}}},[e._v("查询")])],1)],1)],1),a("el-button",{attrs:{type:"success",icon:"iconfont sbt_add"},on:{click:e.openApprovalDlg}},[e._v("添加")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.elTableData,stripe:"","max-height":465,"highlight-current-row":"","header-cell-style":{background:"#f3f3f3"}}},[a("el-table-column",{attrs:{prop:"chargeUnit",label:"事业部维度"}}),a("el-table-column",{attrs:{prop:"chargeOrgName",label:"部门维度"}}),a("el-table-column",{attrs:{prop:"ourEntityName",label:"我方签约主体"}}),a("el-table-column",{attrs:{prop:"sealType",label:"印章类型"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("DictCodeToDictName",{attrs:{parentCode:"SEAL_TYPE",dictCode:e.row.sealType}})]}}])}),a("el-table-column",{attrs:{prop:"userCode",label:"审批人编号"}}),a("el-table-column",{attrs:{prop:"userName",label:"审批人姓名"}}),a("el-table-column",{attrs:{prop:"orgCode",label:"部门编码"}}),a("el-table-column",{attrs:{prop:"orgName",label:"部门名称"}}),a("el-table-column",{attrs:{prop:"unitName",label:"事业部"}}),a("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",{staticClass:"tc"},[a("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},on:{click:function(t){return e.handleDelete(r)}},slot:"reference"},[e._v("删除")])],1)]}}])})],1),a("common-pagination",{attrs:{layout:e.layout,list:e.searchForm1},on:{"handler-currentPage":e.handlerCurrentPage1}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("关闭")])],1)],1),a("el-dialog",{staticStyle:{"overflow-y":"hidden"},attrs:{title:"审批矩阵",visible:e.approvalVisiable,width:"45%"},on:{"update:visible":function(t){e.approvalVisiable=t}}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"事业部维度",prop:"chargeUnit"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择事业部"},on:{change:e.closeOrgTag},model:{value:e.userForm.chargeUnit,callback:function(t){e.$set(e.userForm,"chargeUnit",t)},expression:"userForm.chargeUnit"}},e._l(e.unitData,function(e){return a("el-option",{key:e.unitCode,attrs:{value:e.unitCode,label:e.unitName}})}),1)],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"部门维度",prop:"chargeOrg"}},[a("el-tag",{attrs:{closable:"",type:"success"},on:{close:e.closeOrgTag}},[e._v("\n              "+e._s(e.chargeOrgName)+"\n            ")]),a("el-button",{on:{click:function(t){e.orgDlgVisiable=!0}}},[e._v("选择")])],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"我方签约主体",prop:"myEntityCode"}},[a("el-select",{ref:"ourside",staticClass:"w-100",attrs:{remote:"",filterable:"","value-key":"company",placeholder:"请选择","remote-method":function(t){return e.remoteMethod(t,0)}},on:{change:function(t){return e.sideChange(t,"ENT01")}},model:{value:e.userForm.ourEntityCode,callback:function(t){e.$set(e.userForm,"ourEntityCode",t)},expression:"userForm.ourEntityCode"}},[e._l(e.ourSideList,function(e){return a("el-option",{key:e.company,attrs:{label:e.descr,value:e}})}),a("div",{staticClass:"pagePagination"},[a("common-pagination",{attrs:{layout:"prev, pager, next",list:e.searchForm},on:{"handler-currentPage":e.handlerCurrentPage}})],1)],2)],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"印章类型",prop:"sealType"}},[a("CommonSelect",{attrs:{dictCode:"SEAL_TYPE",clearable:!0,filterable:!0,placeholder:"请选择"},model:{value:e.userForm.sealType,callback:function(t){e.$set(e.userForm,"sealType",t)},expression:"userForm.sealType"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"审批人",prop:"userName"}},[a("commonItemSelect",{attrs:{placeholder:"审批人",clearable:!0,onChange:e.getUserInfo},model:{value:e.selectUserInfo,callback:function(t){e.selectUserInfo=t},expression:"selectUserInfo"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[a("el-input",{attrs:{type:"number"},model:{value:e.userForm.orderNum,callback:function(t){e.$set(e.userForm,"orderNum",t)},expression:"userForm.orderNum"}})],1)],1),a("el-col",[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",disabled:e.btnClickFlag},on:{click:e.handleAddList}},[e._v("保存")]),a("el-button",{on:{click:function(t){e.approvalVisiable=!1}}},[e._v("关闭")])],1)])],1)],1)],1),a("el-dialog",{staticStyle:{"overflow-y":"hidden"},attrs:{title:"选择部门",visible:e.orgDlgVisiable},on:{"update:visible":function(t){e.orgDlgVisiable=t}}},[a("el-row",[a("el-col",[a("CommonOrgTree",{ref:"orgTree",attrs:{unitCode:e.userForm.chargeUnit,mutl:!1,showBtn:!1},on:{"check-ok":e.getCheckOrg}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orgDlgVisiable=!1}}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("a34a"),i=a.n(l),n=a("c973"),s=a.n(n),d=a("3156"),c=a.n(d),p=a("3317"),u=a("b1b9"),m=a("391d"),g={data:function(){return{loading:!1,tableData:[],searchForm:{},dlgVisiable:!1,approvalVisiable:!1,orgDlgVisiable:!1,visible:!1,elTableData:[],btnClickFlag:!1,pager2:{currentPage:1,pageSize:10,total:0},searchForm1:{currentPage:1,pageSize:10,total:0},selectNode:{},rules:{ruleType:[{required:!0,message:"请选择规则类型",trigger:"blur"}],ruleCode:[{required:!0,message:"请输入规则编码",trigger:"blur"}],ruleName:[{required:!0,message:"请输入规则名称",trigger:"blur"}]},selectUserInfo:{},layout:"total, prev, pager, next",unitData:[],userForm:{},chargeUnitObj:{unitCode:"",unitName:""},chargeOrgName:"",searchForm2:{currentPage:1,pageSize:10,total:0},ourSideList:[]}},created:function(){},mounted:function(){var e=this;this.handlerCurrentPage(1),Object(u["a"])({}).then(function(t){"000000"===t.code&&t.data&&t.data.forEach(function(t){e.unitData.push({unitCode:t.unitCode,unitName:t.unitName})})})},methods:{handlerNodePage:function(e){var t=this;this.pager1.currentPage=e.currentPage||e,p["a"].queryNodeList(this.pager1).then(function(e){"000000"===e.code&&(t.nodeData=e.data.content,t.pager1.currentPage=e.data.pageNo,t.pager1.total=e.data.total)}).catch(function(e){t.$message({type:"error",message:"查询环节信息出错"})})},handlerCurrentPage:function(e){var t=this;this.pager2.currentPage=e.currentPage||e,this.pager2.pageSize=e.pageSize||this.pager2.pageSize;var a=c()({},this.pager2,this.searchForm);p["a"].queryApprovalList(a).then(function(e){"000000"===e.code&&(t.tableData=e.data.records,t.pager2.currentPage=e.data.current,t.pager2.total=e.data.total)}).catch(function(e){t.$message({type:"error",message:"查询固定规则信息出错"})})},addApproval:function(){this.selectNode={},this.dlgVisiable=!0},saveApproval:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&(e.btnClickFlag=!0,p["a"].saveApprovalInfo(e.selectNode).then(function(t){"000000"===t.code&&(e.$message({type:"success",message:"操作成功"}),e.dlgVisiable=!1,e.handlerCurrentPage(1)),e.btnClickFlag=!1}).catch(function(t){e.btnClickFlag=!1,e.$message({type:"error",message:"保存规则信息出错"})}))})},viewInfo:function(e){this.selectNode=e,this.dlgVisiable=!0},deleteApproval:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p["a"].deleteApprovalInfo(e).then(function(e){t.$message({type:"success",message:"操作成功"}),t.handlerCurrentPage(1)}).catch(function(e){t.$message({type:"error",message:"删除失败"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handlerCurrentPage1:function(e){var t=this;this.searchForm1.currentPage=e.currentPage||e,this.searchForm1.pageSize=e.pageSize||this.searchForm1.pageSize,p["a"].queryPageMatrixInfo(this.searchForm1).then(function(e){"000000"===e.code&&(t.elTableData=e.data.records,t.searchForm1.currentPage=e.data.current,t.searchForm1.total=e.data.total)}).catch(function(e){t.$message({type:"error",message:"查询审批矩阵信息出错"})})},viewList:function(){var e=this;this.selectNode.ruleId?(this.visible=!0,this.searchForm1.ruleId=this.selectNode.ruleId,this.handlerCurrentPage1(1)):p["a"].saveApprovalInfo(this.selectNode).then(function(t){"000000"===t.code&&(e.visible=!0,e.selectNode.ruleId=t.data.ruleId,e.searchForm1.ruleId=e.selectNode.ruleId,e.handlerCurrentPage1(1)),e.btnClickFlag=!1}).catch(function(t){e.btnClickFlag=!1,e.$message({type:"error",message:"保存规则信息出错"})})},getUserInfo:function(e){this.selectUserInfo=c()({},e)},openApprovalDlg:function(){this.chargeUnitObj={unitCode:"",unitName:""},this.userForm={},this.selectUserInfo={},this.userForm.orderNum=1,this.approvalVisiable=!0},getCheckOrg:function(e,t){this.userForm.chargeOrg=t[0].orgCode,this.userForm.chargeOrgName=t[0].orgName,this.chargeOrgName=t[0].orgName,this.orgDlgVisiable=!1},closeOrgTag:function(){this.userForm.chargeOrg="",this.userForm.chargeOrgName="",this.chargeOrgName=""},handleAddList:function(){var e=this,t={};t.ruleId=this.selectNode.ruleId,t.orgCode=this.selectUserInfo.orgCode,t.unitCode=this.selectUserInfo.unitCode,t.orgName=this.selectUserInfo.orgName,t.unitName=this.selectUserInfo.unitName,t.userCode=this.selectUserInfo.userCode,t.userId=this.selectUserInfo.userId,t.userName=this.selectUserInfo.userName,t.orderNum=this.userForm.orderNum,t.chargeOrg=this.userForm.chargeOrg,t.chargeOrgName=this.userForm.chargeOrgName,t.chargeUnit=this.userForm.chargeUnit,t.sealType=this.userForm.sealType,this.userForm.ourEntityCode&&(t.ourEntityId=this.userForm.ourEntityCode.company,t.ourEntityName=this.userForm.ourEntityName),this.btnClickFlag=!0,p["a"].saveMatrixInfo(t).then(function(t){"000000"===t.code&&(e.approvalVisiable=!1,e.$message({type:"success",message:"操作成功"}),e.handlerCurrentPage1(1)),e.btnClickFlag=!1}).catch(function(t){e.btnClickFlag=!1,e.$message({type:"error",message:"保存审批矩阵出错"})})},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p["a"].deleteMatrixInfo(e.ruleLineId).then(function(e){t.$message({type:"success",message:"操作成功"}),t.handlerCurrentPage1(1)}).catch(function(e){t.$message({type:"error",message:"删除失败"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},remoteMethod:function(e,t){this.searchForm2=c()({},this.searchForm2,{descr:e}),this.getOurSide()},getOurSide:function(){var e=this;return s()(i.a.mark(function t(){var a,r,o;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["l"])(c()({},e.searchForm2));case 2:a=t.sent,r=a.code,o=a.data,"000000"===r&&(o.content||[],{},e.ourSideList=o.content||[],e.searchForm.total=o.total);case 6:case"end":return t.stop()}},t)}))()},sideChange:function(e,t){this.userForm.ourEntityName=e.descr}}},f=g,b=(a("a711"),a("0c7c")),v=Object(b["a"])(f,r,o,!1,null,"30513928",null);t["default"]=v.exports},"59a9":function(e,t,a){var r=a("0358");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("499e").default;o("41e2e90b",r,!0,{sourceMap:!1,shadowMode:!1})},a711:function(e,t,a){"use strict";var r=a("59a9"),o=a.n(r);o.a}}]);
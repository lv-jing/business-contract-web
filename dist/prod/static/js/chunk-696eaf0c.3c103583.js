(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-696eaf0c"],{"1db4":function(t,e,a){e=t.exports=a("c356")(!1),e.push([t.i,".div-root[data-v-6f8b8184]{display:inline}.div-tree[data-v-6f8b8184]{height:300px;overflow-y:auto}",""])},2096:function(t,e,a){e=t.exports=a("c356")(!1),e.push([t.i,".div-root[data-v-6bfd34b1]{height:450px}.div-deacc[data-v-6bfd34b1]{min-height:400px;max-height:430px;margin-right:10px;-webkit-box-shadow:inset 0 0 3px 1px #b9b7b7;box-shadow:inset 0 0 3px 1px #b9b7b7;overflow:auto}.table-deacc[data-v-6bfd34b1]{width:100%;height:100%}.tbody-deacc[data-v-6bfd34b1]{height:100%}.tr-deacc[data-v-6bfd34b1]{padding:2px;padding-bottom:4px;margin:5px 0;border-bottom:1px solid hsla(0,0%,50.2%,.28)}.tr-deacc.thead[data-v-6bfd34b1]{font-size:16px}.tr-deacc>th[data-v-6bfd34b1],td[data-v-6bfd34b1]{text-align:center}.tr-deacc.tbody[data-v-6bfd34b1]:hover{background:#efefef}.tr-deacc.tbody.active[data-v-6bfd34b1]{background:#63b4ff!important;color:#fff}.span-edit-role[data-v-6bfd34b1]{margin-right:10px}.input-edit-role[data-v-6bfd34b1]{margin-right:15px}",""])},4410:function(t,e,a){"use strict";var o=a("8fba"),i=a.n(o);i.a},"6d2c":function(t,e,a){e=t.exports=a("c356")(!1),e.push([t.i,"blockquote[data-v-7bf724b0],body[data-v-7bf724b0],dd[data-v-7bf724b0],dl[data-v-7bf724b0],dt[data-v-7bf724b0],fieldset[data-v-7bf724b0],h1[data-v-7bf724b0],h2[data-v-7bf724b0],h3[data-v-7bf724b0],h4[data-v-7bf724b0],h5[data-v-7bf724b0],h6[data-v-7bf724b0],input[data-v-7bf724b0],ol[data-v-7bf724b0],p[data-v-7bf724b0],pre[data-v-7bf724b0],td[data-v-7bf724b0],textarea[data-v-7bf724b0],th[data-v-7bf724b0],ul[data-v-7bf724b0]{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body[data-v-7bf724b0],html[data-v-7bf724b0]{overflow:hidden}body .el-table colgroup.gutter[data-v-7bf724b0],body .el-table th.gutter[data-v-7bf724b0]{display:table-cell!important}table[data-v-7bf724b0]{border-collapse:collapse;border-spacing:0;empty-cells:show}ul[data-v-7bf724b0]{list-style:none}input[data-v-7bf724b0]:-webkit-autofill,select[data-v-7bf724b0]:-webkit-autofill,textarea[data-v-7bf724b0]:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium[data-v-7bf724b0]{vertical-align:bottom!important}.el-select__input[data-v-7bf724b0]{vertical-align:baseline}input[data-v-7bf724b0]{background-color:transparent}input[data-v-7bf724b0]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white[data-v-7bf724b0]{background:#fff}.pl24[data-v-7bf724b0]{padding-left:24px}.pd16[data-v-7bf724b0]{padding:16px}.pd24[data-v-7bf724b0]{padding:24px}.pd24_1[data-v-7bf724b0],.pdl24[data-v-7bf724b0]{padding-left:24px}.pd24_1[data-v-7bf724b0]{padding-bottom:24px}.tc[data-v-7bf724b0]{text-align:center}.tr[data-v-7bf724b0]{text-align:right}.white[data-v-7bf724b0]{color:#fff}.flex[data-v-7bf724b0]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between[data-v-7bf724b0]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center[data-v-7bf724b0],.flex-center-between[data-v-7bf724b0]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center[data-v-7bf724b0]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around[data-v-7bf724b0]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-7bf724b0]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-7bf724b0],.flex-center-end[data-v-7bf724b0]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end[data-v-7bf724b0]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start[data-v-7bf724b0]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5[data-v-7bf724b0]{margin-left:5px}.ml10[data-v-7bf724b0]{margin-left:10px}.ml15[data-v-7bf724b0]{margin-left:15px}.ml20[data-v-7bf724b0]{margin-left:20px}.mr10[data-v-7bf724b0]{margin-right:10px}.mr20[data-v-7bf724b0]{margin-right:20px}.mt10[data-v-7bf724b0]{margin-top:10px}.mt16[data-v-7bf724b0]{margin-top:16px}.mt20[data-v-7bf724b0]{margin-top:20px}.mt24[data-v-7bf724b0]{margin-top:24px}.mb16[data-v-7bf724b0]{margin-bottom:16px}.mb20[data-v-7bf724b0]{margin-bottom:20px}.mb24[data-v-7bf724b0]{margin-bottom:24px}.p15[data-v-7bf724b0]{padding:15px}.p20[data-v-7bf724b0]{padding:20px}.p25[data-v-7bf724b0]{padding:25px}.pt10[data-v-7bf724b0]{padding-top:10px}.pt30[data-v-7bf724b0]{padding-top:30px}.pr20[data-v-7bf724b0]{padding-right:20px}.pb24[data-v-7bf724b0]{padding-bottom:24px}.el-drawer__body[data-v-7bf724b0]{overflow:auto!important}.pointer[data-v-7bf724b0]{cursor:pointer}img[data-v-7bf724b0]{border:0}textarea[data-v-7bf724b0]{resize:none}caption[data-v-7bf724b0],th[data-v-7bf724b0]{text-align:left}em[data-v-7bf724b0],i[data-v-7bf724b0]{font-style:normal}hr[data-v-7bf724b0]{margin-top:0;margin-bottom:0}a[data-v-7bf724b0]:focus{outline:none!important}a[data-v-7bf724b0]{text-decoration:none!important;color:#2393f7}.el-drawer[data-v-7bf724b0]:focus,button[data-v-7bf724b0]:focus,input[data-v-7bf724b0]:focus{outline:none;-moz-outline:none}.__view[data-v-7bf724b0]{width:0!important}.form-bg[data-v-7bf724b0]{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner[data-v-7bf724b0]{color:#303133;font-size:14px}.form-bg .el-textarea__inner[data-v-7bf724b0]{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner[data-v-7bf724b0]{color:#303133;font-size:14px}.w-100[data-v-7bf724b0]{width:100%!important}.t-l[data-v-7bf724b0]{text-align:left}.list-search[data-v-7bf724b0]{width:100%}.el-icon-document-copy[data-v-7bf724b0]{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size[data-v-7bf724b0]{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right[data-v-7bf724b0]{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active[data-v-7bf724b0]{text-align:center!important}.color-blue[data-v-7bf724b0]{color:#0070c1}.el-menu--collapse[data-v-7bf724b0]{width:auto}.common-footer-box[data-v-7bf724b0]{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer[data-v-7bf724b0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content[data-v-7bf724b0]{margin-left:14%;width:77%}.ft18[data-v-7bf724b0]{font-size:18px}.ft16[data-v-7bf724b0]{font-size:16px}.ft10[data-v-7bf724b0]{padding-top:20px;font-size:14px}.ft25[data-v-7bf724b0]{font-size:25px}.el-dialog__header[data-v-7bf724b0]{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node[data-v-7bf724b0],.is-expanded[data-v-7bf724b0],.is-focusable[data-v-7bf724b0]{color:#606266}.is-current[data-v-7bf724b0]{color:#2393f7}.bg100[data-v-7bf724b0]{height:100px}li[data-v-7bf724b0]{list-style:none}.el-menu--popup-right-start[data-v-7bf724b0]{margin-left:0}.el-step__description.is-finish[data-v-7bf724b0]{color:#303133}.el-step__title.is-finish[data-v-7bf724b0]{color:#303133!important}.el-step__head.is-finish[data-v-7bf724b0]{color:#303133;border-color:#303133}.el-step__description.is-wait[data-v-7bf724b0],.el-step__title.is-wait[data-v-7bf724b0]{color:#303133}.el-step__head.is-wait[data-v-7bf724b0]{color:#303133;border-color:#303133}.el-step__line[data-v-7bf724b0]{background-color:#303133}.el-tooltip__popper[data-v-7bf724b0]{max-width:20%}.underline[data-v-7bf724b0]{text-decoration:underline;color:#2393f7}.modlue-box[data-v-7bf724b0]{width:100%;height:100%;position:fixed;z-index:20}.viewOffice[data-v-7bf724b0]{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control[data-v-7bf724b0]{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control[data-v-7bf724b0]{height:32px}.vue-treeselect__menu[data-v-7bf724b0]{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value[data-v-7bf724b0]{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular[data-v-7bf724b0]{display:none}.modlue-box .el-loading-spinner .el-loading-text[data-v-7bf724b0]{font-size:16px}.radio-cont[data-v-7bf724b0]{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio[data-v-7bf724b0]{padding-bottom:14px}.setradio .el-radio[data-v-7bf724b0]{padding:0;width:100%;background:#fff}.setradio .el-radio[data-v-7bf724b0],.setradio .el-radio__input[data-v-7bf724b0]{white-space:normal}.setradio .el-radio__label[data-v-7bf724b0]{padding:0}.setradio .el-radio.is-bordered.is-checked[data-v-7bf724b0]{border:2px solid #409eff}.setradio .el-radio-group[data-v-7bf724b0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input[data-v-7bf724b0]{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner[data-v-7bf724b0]{width:16px;height:16px}.radio-img img[data-v-7bf724b0]{width:50px}.radio-rig[data-v-7bf724b0]{margin-left:10px}.radio-rig span[data-v-7bf724b0]{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p[data-v-7bf724b0]{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind[data-v-7bf724b0]{display:block}.box-solid-bt[data-v-7bf724b0]{border-bottom:1px solid #eee;margin-bottom:16px}.border-top[data-v-7bf724b0]{margin-top:15px;padding-top:15px}.border-top[data-v-7bf724b0],.tp-das[data-v-7bf724b0]{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text[data-v-7bf724b0]{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close[data-v-7bf724b0]{top:-5px}.el-submenu__title[data-v-7bf724b0]{border:none}.vue-treeselect__menu-container[data-v-7bf724b0],.vue-treeselect__portal-target[data-v-7bf724b0]{z-index:90000000000000!important}.el-tag.el-tag--info[data-v-7bf724b0]{color:#303133;font-size:14px}.terms .resetButton[data-v-7bf724b0]{border:1px solid #bbbfc4}.terms .tableCol[data-v-7bf724b0],.terms .tableColQuery[data-v-7bf724b0]{color:#2393f7;cursor:pointer}.terms .tableCol[data-v-7bf724b0]{margin-left:12px}",""])},"784f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"terms"},[a("div",{staticClass:"bg-white mb24 pd24"},[a("el-form",{class:t.show?"over-vis":"over-hid",attrs:{model:t.searchForm,"label-width":"100px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户编号",prop:"userCode"}},[a("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:t.searchForm.userCode,callback:function(e){t.$set(t.searchForm,"userCode",e)},expression:"searchForm.userCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:t.searchForm.userName,callback:function(e){t.$set(t.searchForm,"userName",e)},expression:"searchForm.userName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.searchForm.phone,callback:function(e){t.$set(t.searchForm,"phone",e)},expression:"searchForm.phone"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:t.searchForm.email,callback:function(e){t.$set(t.searchForm,"email",e)},expression:"searchForm.email"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号",prop:"idCard"}},[a("el-input",{attrs:{placeholder:"请输入证件号"},model:{value:t.searchForm.idCard,callback:function(e){t.$set(t.searchForm,"idCard",e)},expression:"searchForm.idCard"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户状态",prop:"statusCode"}},[a("el-select",{attrs:{placeholder:"请输入选择"},model:{value:t.searchForm.statusCode,callback:function(e){t.$set(t.searchForm,"statusCode",e)},expression:"searchForm.statusCode"}},[a("el-option",{key:"",attrs:{value:"",label:"全部"}}),a("el-option",{key:"0",attrs:{value:"0",label:"有效"}}),a("el-option",{key:"1",attrs:{value:"1",label:"失效"}})],1),t._v("\n                           \n                        "),a("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:t.formSearchMethod}},[t._v("查询\n                        ")])],1)],1)],1)],1)],1),a("div",{staticClass:"bg-white user-form-table pd24"},[a("SyncMdm",{attrs:{dataType:"user",buttonName:"同步人员信息"}}),a("SyncMdm",{attrs:{dataType:"dept",buttonName:"同步部门信息"}}),a("SyncMdm",{attrs:{dataType:"org",buttonName:"同步组织信息"}}),a("SyncMdm",{attrs:{dataType:"job",buttonName:"同步职务信息"}}),a("SyncMdm",{attrs:{dataType:"company",buttonName:"同步公司信息"}}),a("SyncMdm",{attrs:{dataType:"unit",buttonName:"同步事业部信息"}}),a("el-table",{staticClass:"mt10 md20",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","highlight-current-row":"","header-cell-style":{background:"#f3f3f3"},size:"small"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"userCode",label:"用户编码"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"idCard",label:"证件号"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s("1"==e.row.statusCode?"失效":"有效")+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"fillDate",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.editDeputyAcc(e.row)}}},[t._v("查看分配信息")])]}}])})],1),a("common-pagination",{attrs:{list:t.searchForm},on:{"handler-currentPage":t.handlerCurrentPage}})],1),a("el-dialog",{attrs:{title:"用户分配信息",width:"70%",visible:t.dlgDeputyVisible},on:{"update:visible":function(e){t.dlgDeputyVisible=e}}},[a("userDeputyAcc",{ref:"dlgDeputyAccount",attrs:{userId:t.userId}})],1)],1)},i=[],r=a("a34a"),n=a.n(r),l=a("c973"),s=a.n(l),d=a("b1b9"),c=a("57e2"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div-root"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("span",[t._v("  副账号列表")])]),a("div",{staticClass:"div-deacc"},[a("table",{staticClass:"table-deacc"},[a("thead",[a("tr",{staticClass:"tr-deacc thead"},[a("th",{attrs:{width:"25%"}},[t._v("副账号名称")]),a("th",{attrs:{width:"10%"}},[t._v("组织编码")]),a("th",{attrs:{width:"25%"}},[t._v("组织名称")]),a("th",{attrs:{width:"10%"}},[t._v("主要分配")]),a("th",{attrs:{width:"20%"}},[t._v("职务")]),a("th",{attrs:{width:"10%"}},[t._v("状态")])])]),a("tbody",{staticClass:"tbody-deacc"},t._l(t.deputyAccs,function(e,o){return a("tr",{staticClass:"tr-deacc tbody",class:{active:t.selIndex==o},attrs:{index:o},on:{click:function(a){return t.searchRoles(e,o)}}},[a("td",[a("span",[t._v(t._s(e.deputyAccountName))])]),a("td",[t._v(t._s(e.orgCode))]),a("td",[t._v(t._s(e.orgName))]),a("td",[t._v(t._s("Y"==e.isPrimary?"是":"否"))]),a("td",[t._v(t._s(e.jobName))]),a("td",[a("span",[t._v(t._s("0"==e.statusCode?"有效":"失效"))])])])}),0)])])]),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("span",[t._v("  角色列表")]),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.addRole}},[t._v("新增")])],1),a("div",{staticClass:"div-deacc"},[a("table",{staticClass:"table-deacc"},[a("thead",[a("tr",{staticClass:"tr-deacc thead"},[a("th",[t._v("角色编码")]),a("th",[t._v("角色名称")]),a("th",[t._v("角色类型")]),a("th",{staticClass:"th-last-edit"},[t._v("编辑")])])]),a("tbody",{staticClass:"tbody-deacc"},t._l(t.deputyAccsRoles,function(e,o){return a("tr",{staticClass:"tr-deacc",attrs:{index:o}},[a("td",[t._v(t._s(e.roleCode))]),a("td",[t._v(t._s(e.roleName))]),a("td",[t._v(t._s(e.roleType))]),a("td",{staticClass:"td-last-edit"},[a("span",{staticStyle:{color:"#f56c6c",cursor:"pointer","margin-left":"4px"},on:{click:function(a){return t.delDeputyRole(e)}}},[t._v("删除")])])])}),0)])])])],1),a("el-dialog",{attrs:{title:"编辑角色",width:"50%",visible:t.dlgRoleVisible,"append-to-body":""},on:{"update:visible":function(e){t.dlgRoleVisible=e}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-form",{attrs:{model:t.roleSearchOption,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色编号",prop:"roleCode"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入所属编号"},model:{value:t.roleSearchOption.roleCode,callback:function(e){t.$set(t.roleSearchOption,"roleCode",e)},expression:"roleSearchOption.roleCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticClass:"input-edit-role",model:{value:t.roleSearchOption.roleName,callback:function(e){t.$set(t.roleSearchOption,"roleName",e)},expression:"roleSearchOption.roleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色类型",prop:"roleType"}},[a("el-select",{staticClass:"input-edit-role",attrs:{"value-key":"value",placeholder:"请选择"},model:{value:t.roleSearchOption.roleType,callback:function(e){t.$set(t.roleSearchOption,"roleType",e)},expression:"roleSearchOption.roleType"}},t._l(t.roleTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getRoles(1)}}},[t._v("查 询")])],1)],1)],1)],1)],1),a("div",{staticClass:"div-table-roles"},[a("el-table",{ref:"roleTables",staticStyle:{width:"100%"},attrs:{data:t.rolesData,height:"450"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"roleCode",label:"角色编号","min-width":"15%"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称","min-width":"25%"}}),a("el-table-column",{attrs:{prop:"roleType",label:"角色类型","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"service",label:"系统来源","min-width":"10%"}})],1),a("common-pagination",{attrs:{list:t.roleSearchOption},on:{"handler-currentPage":t.getRoles}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dlgRoleVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addDeputyRole}},[t._v("确 定")])],1)])],1)},p=[],f=a("448a"),u=a.n(f),m=a("3156"),v=a.n(m),h=a("b775"),g={data:function(){return{LOGIN_URL:"https://ylht.yili.com/api/isump",dlgDeputyVisible:!1,dlgRoleVisible:!1,selIndex:null,deputyAccs:[],deputyAccsRoles:[],loading:!1,allRoles:[],allOrgCodes:[],selRole:null,deputyAccount:{state:"1"},roleTypes:[{value:"function",label:"function"},{value:"data",label:"data"},{value:"approval",label:"approval"}],roleSearchOption:{service:null,name:null,type:"function"},rolesData:[],editFlag:!1,systems:[],currentDeputyAccount:this.deputyAccountId,currentEmpNo:this.empNo,operationUser:"",recordData:[],searchRecordData:{},showRecordFlag:!1,pager:{currentPage:1,total:0,pageSize:10}}},props:{userId:""},methods:{getData:function(t,e){var a=this,o=v()({},this.pager,{userId:this.userId});this.loading=!0,o.currentPage=t||o.currentPage,this.deputyAccs=[],this.deputyAccsRoles=[],this.selIndex=null,h["a"].post("/isump/deputy-account/list/conditions",o,{baseURL:this.LOGIN_URL}).then(function(t){a.loading=!1,a.deputyAccs=t.data,a.selRole=null,e&&e()})},searchRoles:function(t,e){var a=this;this.selIndex=e,this.selRole=t,this.deputyAccsRoles=[],h["a"].post("/isump/deputy-account-role/list/conditions",{deputyAccountId:t.deputyAccountId},{baseURL:this.LOGIN_URL}).then(function(t){a.deputyAccsRoles=u()(t.data)})},addDeputyRole:function(){var t=this,e=this.$refs.roleTables.selection;if(!e||e.length<1)return this.$message({message:"请至少选择一条数据",type:"warning"});var a=[],o=!0,i=!1,r=void 0;try{for(var n,l=function(){var e=n.value,o=new Promise(function(a,o){h["a"].post("/isump/deputy-account-role",{deputyAccountId:t.selRole.deputyAccountId,roleId:e.roleId},{baseURL:t.LOGIN_URL}).then(function(t){t&&a(t)})});a.push(o)},s=e[Symbol.iterator]();!(o=(n=s.next()).done);o=!0)l()}catch(d){i=!0,r=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}Promise.all(a).then(function(){t.$message({message:"添加角色成功",type:"success"}),t.dlgRoleVisible=!1,t.searchRoles(t.selRole,t.selIndex)})},delDeputyRole:function(t){var e=this;this.$confirm("此操作将永久删除该副账号角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){h["a"].delete("/isump/deputy-account-role/".concat(t.deputyAccountRoleId),{baseURL:e.LOGIN_URL}).then(function(t){t&&(e.$message({message:"删除副账号角色成功",type:"success"}),e.searchRoles(e.selRole,e.selIndex))})}).catch(function(t){console.log(t)})},addRole:function(){if(!this.selRole)return this.$message({message:"请选择副账号",type:"error"});this.dlgRoleVisible=!0,this.roleSearchOption={service:null,name:null,type:"function"},this.rolesData=[],this.getRoles(1)},getRoles:function(t){var e=this;this.roleSearchOption.currentPage=t.currentPage||t,h["a"].post("/isump/role/page/conditions",this.roleSearchOption,{baseURL:this.LOGIN_URL}).then(function(t){var a=t.data;e.roleSearchOption.total=a.total,e.roleSearchOption.currentPage=a.current,e.roleSearchOption.pageSize=a.size,e.rolesData=u()(a.records)})},getDirtByParentCode:function(t,e){h["a"].post("/isump/dict/list/conditions",{parentCode:t},{baseURL:this.LOGIN_URL}).then(function(t){e&&e(t)})},changeOrg:function(t){console.log(t,"item"),this.deputyAccount.org={id:t.id,orgCode:t.code},this.deputyAccount.name=t.name,this.deputyAccount.orgName=t.name},pageHandel:function(t){var e=this,a=v()({},this.pager,this.searchRecordData);this.loading=!0,a.currentPage=t||a.currentPage,h["a"].post("/isump/deputy-account-recode/page/conditions",a,function(t){e.loading=!1,e.pager.total=t.total,e.pager.currentPage=t.current,e.pager.pageSize=t.size,e.recordData=u()(t.records)})}},mounted:function(){this.getData()}},x=g,y=(a("dcce"),a("0c7c")),_=Object(y["a"])(x,b,p,!1,null,"6bfd34b1",null),w=_.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div-root"},[a("el-button",{staticStyle:{margin:"0 5px"},attrs:{size:"mini",type:"primary"},on:{click:t.init}},[t._v(t._s(t.buttonName))]),a("el-dialog",{attrs:{title:"同步数据",visible:t.digMenuVisible},on:{"update:visible":function(e){t.digMenuVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],staticClass:"div-tree"},[a("div",{staticStyle:{"padding-bottom":"24px","font-size":"16px",color:"red"}},[t._v("查询条件不填写则默认同步当天的数据")]),a("el-form",{attrs:{"label-width":"100px",inline:!0}},[a("el-row",t._l(t.formLabel,function(e,o){return a("el-col",{key:o,attrs:{span:12}},[a("el-form-item",{attrs:{label:e.label}},[a("el-input",{model:{value:t.searchForm[e.name],callback:function(a){t.$set(t.searchForm,e.name,a)},expression:"searchForm[item.name]"}})],1)],1)}),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.digMenuVisible=!1}}},[t._v("关 闭")]),a("el-button",{attrs:{type:"primary"},on:{click:t.syncData}},[t._v("同步数据")])],1)])],1)},R=[],E={data:function(){return{LOGIN_URL:"https://ylht.yili.com/api/isump",treeLoading:!1,digMenuVisible:!1,formLabel:[],searchForm:{},dataForm:{dept:{VIEW:"PS_DEPT_TBL_SOA_V",PROCEDURE_NAME:"isump_sync_pkg.sync_dept_info",WHERE:[{label:"部门编号",name:"DEPTID"},{label:"部门名称",name:"DESCR"}]},user:{VIEW:"PS_PERSONAL_VW",PROCEDURE_NAME:"isump_sync_pkg.sync_persion_info",WHERE:[{label:"员工编号",name:"EMPLID"},{label:"员工姓名",name:"NAME"},{label:"部门编号",name:"DEPTID"},{label:"证件号",name:"national_id"}]},org:{VIEW:"PS_DEPT_TREE_SOA_V",PROCEDURE_NAME:"isump_sync_pkg.sync_org_info",WHERE:[{label:"组织编号",name:"TREE_NODE"},{label:"组织名称",name:"DESCR"},{label:"上级组织编号",name:"PARENT_NODE"}]},unit:{VIEW:"PS_BUS_UNIT_TBL_HR_V",PROCEDURE_NAME:"isump_sync_pkg.sync_unit_info",WHERE:[{label:"事业部编码",name:"BUSINESS_UNIT"},{label:"事业部名称",name:"DESCR"}]},company:{VIEW:"PS_COMPANY_TBL_SOA_V",PROCEDURE_NAME:"",WHERE:[{label:"公司编码",name:"COMPANY"},{label:"公司名称",name:"DESCR"}]},job:{VIEW:"PS_JOBCODE_SOA_V",PROCEDURE_NAME:"isump_sync_pkg.sync_job_info",WHERE:[{label:"职务编码",name:"JOBCODE"},{label:"职务名称",name:"DESCR"}]},dict:{VIEW:"PSXLATITEM_SOA_V",PROCEDURE_NAME:""},vendor:{VIEW:"",PROCEDURE_NAME:"isump_sync_pkg.sync_vendor_info"},WHERE:[{label:"供应商编码",name:"VENDOR_NUM"},{label:"供应商名称",name:"VENDOR_NAME"}]}}},props:{dataType:{type:String,default:function(){return"user"}},buttonName:{type:String,default:function(){return"同步人员信息"}}},methods:{syncData:function(){var t=this,e="",a=0;this.formLabel.forEach(function(o){var i=t.searchForm[o.name];i&&(a>0&&(e+=" and "),e+=o.name+"='"+t.searchForm[o.name]+"' ",a++)}),this.treeLoading=!0,this.syncMdmInfo(e)},syncMdmInfo:function(t){var e=this;return s()(n.a.mark(function a(){var o,i,r,l,s,d,b;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(o={procedureName:e.dataForm[e.dataType].PROCEDURE_NAME,viewName:e.dataForm[e.dataType].VIEW,whereName:t},!o.viewName){a.next=21;break}return a.next=4,Object(c["c"])(o);case 4:if(i=a.sent,r=i.code,i.data,"000000"!==r){a.next=18;break}if(!o.procedureName){a.next=17;break}return a.next=11,Object(c["d"])(o);case 11:l=a.sent,s=l.code2,l.data2,"000000"===s&&e.$message({message:"同步数据处理完成！",type:"success"}),a.next=18;break;case 17:e.$message({message:"从源系统同步成功！",type:"success"});case 18:e.treeLoading=!1,a.next=29;break;case 21:if(!o.procedureName){a.next=29;break}return a.next=24,Object(c["d"])(o);case 24:d=a.sent,b=d.code2,d.data2,"000000"===b&&e.$message({message:"同步数据处理完成！",type:"success"}),e.treeLoading=!1;case 29:case"end":return a.stop()}},a)}))()},init:function(){this.treeLoading=!1,this.digMenuVisible=!0,this.searchForm={}}},mounted:function(){this.formLabel=this.dataForm[this.dataType].WHERE},created:function(){}},S=E,C=(a("7a22"),Object(y["a"])(S,k,R,!1,null,"6f8b8184",null)),N=C.exports,O={name:"",components:{userDeputyAcc:w,SyncMdm:N},data:function(){return{LOGIN_URL:"https://ylht.yili.com/api/isump",tableData:[],value:"",dlgDeputyVisible:!1,show:!1,searchForm:{pageNum:1,pageSize:10,total:0},userId:null}},created:function(){},mounted:function(){this.formSearchMethod()},methods:{formSearchMethod:function(){this.searchForm.currentPage=1,this.searchForm.pageSize=10,this.queryUser(this.searchForm)},openType:function(){this.dialogVisible=!0},handlerCurrentPage:function(t){this.searchForm.currentPage=t.currentPage,this.queryUser(this.searchForm)},queryUser:function(t){var e=this;return s()(n.a.mark(function a(){var o,i,r;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["k"])(t);case 2:o=a.sent,i=o.code,r=o.data,i&&"000000"===i&&(e.searchForm.total=r.total,e.searchForm.currentPage=r.pageNo,e.searchForm.pageSize=r.pageSize,e.tableData=r.content);case 6:case"end":return a.stop()}},a)}))()},handleSelectionChange:function(t){this.userId=t.userId},editDeputyAcc:function(t){var e=this;this.userId=t.userId,this.dlgDeputyVisible=!0,setTimeout(function(){e.$refs.dlgDeputyAccount&&e.$refs.dlgDeputyAccount.getData()},100)},syncMdmInfo:function(t){return s()(n.a.mark(function t(){var e,a,o;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={procedureName:"isump_sync_pkg.sync_persion_info",viewName:"PS_PERSONAL_VW",whereName:""},t.next=3,Object(c["c"])(e);case 3:a=t.sent,o=a.code,a.data,"000000"===o&&Object(c["d"])(e);case 7:case"end":return t.stop()}},t)}))()}}},D=O,I=(a("4410"),Object(y["a"])(D,o,i,!1,null,"7bf724b0",null));e["default"]=I.exports},"7a22":function(t,e,a){"use strict";var o=a("9f18"),i=a.n(o);i.a},"8fba":function(t,e,a){var o=a("6d2c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("166235fc",o,!0,{sourceMap:!1,shadowMode:!1})},"9f18":function(t,e,a){var o=a("1db4");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("51ada8b0",o,!0,{sourceMap:!1,shadowMode:!1})},cc42:function(t,e,a){var o=a("2096");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("2c4428a5",o,!0,{sourceMap:!1,shadowMode:!1})},dcce:function(t,e,a){"use strict";var o=a("cc42"),i=a.n(o);i.a}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69868902"],{"5c20":function(e,t,a){"use strict";var o=a("7179"),l=a.n(o);l.a},"65b9":function(e,t,a){t=e.exports=a("c356")(!1),t.push([e.i,"blockquote[data-v-fcf54b24],body[data-v-fcf54b24],dd[data-v-fcf54b24],dl[data-v-fcf54b24],dt[data-v-fcf54b24],fieldset[data-v-fcf54b24],h1[data-v-fcf54b24],h2[data-v-fcf54b24],h3[data-v-fcf54b24],h4[data-v-fcf54b24],h5[data-v-fcf54b24],h6[data-v-fcf54b24],input[data-v-fcf54b24],ol[data-v-fcf54b24],p[data-v-fcf54b24],pre[data-v-fcf54b24],td[data-v-fcf54b24],textarea[data-v-fcf54b24],th[data-v-fcf54b24],ul[data-v-fcf54b24]{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body[data-v-fcf54b24],html[data-v-fcf54b24]{overflow:hidden}body .el-table colgroup.gutter[data-v-fcf54b24],body .el-table th.gutter[data-v-fcf54b24]{display:table-cell!important}table[data-v-fcf54b24]{border-collapse:collapse;border-spacing:0;empty-cells:show}ul[data-v-fcf54b24]{list-style:none}input[data-v-fcf54b24]:-webkit-autofill,select[data-v-fcf54b24]:-webkit-autofill,textarea[data-v-fcf54b24]:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium[data-v-fcf54b24]{vertical-align:bottom!important}.el-select__input[data-v-fcf54b24]{vertical-align:baseline}input[data-v-fcf54b24]{background-color:transparent}input[data-v-fcf54b24]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white[data-v-fcf54b24]{background:#fff}.pl24[data-v-fcf54b24]{padding-left:24px}.pd16[data-v-fcf54b24]{padding:16px}.pd24[data-v-fcf54b24]{padding:24px}.pd24_1[data-v-fcf54b24],.pdl24[data-v-fcf54b24]{padding-left:24px}.pd24_1[data-v-fcf54b24]{padding-bottom:24px}.tc[data-v-fcf54b24]{text-align:center}.tr[data-v-fcf54b24]{text-align:right}.white[data-v-fcf54b24]{color:#fff}.flex[data-v-fcf54b24]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between[data-v-fcf54b24]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center[data-v-fcf54b24],.flex-center-between[data-v-fcf54b24]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center[data-v-fcf54b24]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around[data-v-fcf54b24]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-fcf54b24]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-fcf54b24],.flex-center-end[data-v-fcf54b24]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end[data-v-fcf54b24]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start[data-v-fcf54b24]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5[data-v-fcf54b24]{margin-left:5px}.ml10[data-v-fcf54b24]{margin-left:10px}.ml15[data-v-fcf54b24]{margin-left:15px}.ml20[data-v-fcf54b24]{margin-left:20px}.mr10[data-v-fcf54b24]{margin-right:10px}.mr20[data-v-fcf54b24]{margin-right:20px}.mt10[data-v-fcf54b24]{margin-top:10px}.mt16[data-v-fcf54b24]{margin-top:16px}.mt20[data-v-fcf54b24]{margin-top:20px}.mt24[data-v-fcf54b24]{margin-top:24px}.mb16[data-v-fcf54b24]{margin-bottom:16px}.mb20[data-v-fcf54b24]{margin-bottom:20px}.mb24[data-v-fcf54b24]{margin-bottom:24px}.p15[data-v-fcf54b24]{padding:15px}.p20[data-v-fcf54b24]{padding:20px}.p25[data-v-fcf54b24]{padding:25px}.pt10[data-v-fcf54b24]{padding-top:10px}.pt30[data-v-fcf54b24]{padding-top:30px}.pr20[data-v-fcf54b24]{padding-right:20px}.pb24[data-v-fcf54b24]{padding-bottom:24px}.el-drawer__body[data-v-fcf54b24]{overflow:auto!important}.pointer[data-v-fcf54b24]{cursor:pointer}img[data-v-fcf54b24]{border:0}textarea[data-v-fcf54b24]{resize:none}caption[data-v-fcf54b24],th[data-v-fcf54b24]{text-align:left}em[data-v-fcf54b24],i[data-v-fcf54b24]{font-style:normal}hr[data-v-fcf54b24]{margin-top:0;margin-bottom:0}a[data-v-fcf54b24]:focus{outline:none!important}a[data-v-fcf54b24]{text-decoration:none!important;color:#2393f7}.el-drawer[data-v-fcf54b24]:focus,button[data-v-fcf54b24]:focus,input[data-v-fcf54b24]:focus{outline:none;-moz-outline:none}.__view[data-v-fcf54b24]{width:0!important}.form-bg[data-v-fcf54b24]{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner[data-v-fcf54b24]{color:#303133;font-size:14px}.form-bg .el-textarea__inner[data-v-fcf54b24]{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner[data-v-fcf54b24]{color:#303133;font-size:14px}.w-100[data-v-fcf54b24]{width:100%!important}.t-l[data-v-fcf54b24]{text-align:left}.list-search[data-v-fcf54b24]{width:100%}.el-icon-document-copy[data-v-fcf54b24]{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size[data-v-fcf54b24]{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right[data-v-fcf54b24]{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active[data-v-fcf54b24]{text-align:center!important}.color-blue[data-v-fcf54b24]{color:#0070c1}.el-menu--collapse[data-v-fcf54b24]{width:auto}.common-footer-box[data-v-fcf54b24]{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer[data-v-fcf54b24]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content[data-v-fcf54b24]{margin-left:14%;width:77%}.ft18[data-v-fcf54b24]{font-size:18px}.ft16[data-v-fcf54b24]{font-size:16px}.ft10[data-v-fcf54b24]{padding-top:20px;font-size:14px}.ft25[data-v-fcf54b24]{font-size:25px}.el-dialog__header[data-v-fcf54b24]{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node[data-v-fcf54b24],.is-expanded[data-v-fcf54b24],.is-focusable[data-v-fcf54b24]{color:#606266}.is-current[data-v-fcf54b24]{color:#2393f7}.bg100[data-v-fcf54b24]{height:100px}li[data-v-fcf54b24]{list-style:none}.el-menu--popup-right-start[data-v-fcf54b24]{margin-left:0}.el-step__description.is-finish[data-v-fcf54b24]{color:#303133}.el-step__title.is-finish[data-v-fcf54b24]{color:#303133!important}.el-step__head.is-finish[data-v-fcf54b24]{color:#303133;border-color:#303133}.el-step__description.is-wait[data-v-fcf54b24],.el-step__title.is-wait[data-v-fcf54b24]{color:#303133}.el-step__head.is-wait[data-v-fcf54b24]{color:#303133;border-color:#303133}.el-step__line[data-v-fcf54b24]{background-color:#303133}.el-tooltip__popper[data-v-fcf54b24]{max-width:20%}.underline[data-v-fcf54b24]{text-decoration:underline;color:#2393f7}.modlue-box[data-v-fcf54b24]{width:100%;height:100%;position:fixed;z-index:20}.viewOffice[data-v-fcf54b24]{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control[data-v-fcf54b24]{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control[data-v-fcf54b24]{height:32px}.vue-treeselect__menu[data-v-fcf54b24]{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value[data-v-fcf54b24]{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular[data-v-fcf54b24]{display:none}.modlue-box .el-loading-spinner .el-loading-text[data-v-fcf54b24]{font-size:16px}.radio-cont[data-v-fcf54b24]{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio[data-v-fcf54b24]{padding-bottom:14px}.setradio .el-radio[data-v-fcf54b24]{padding:0;width:100%;background:#fff}.setradio .el-radio[data-v-fcf54b24],.setradio .el-radio__input[data-v-fcf54b24]{white-space:normal}.setradio .el-radio__label[data-v-fcf54b24]{padding:0}.setradio .el-radio.is-bordered.is-checked[data-v-fcf54b24]{border:2px solid #409eff}.setradio .el-radio-group[data-v-fcf54b24]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input[data-v-fcf54b24]{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner[data-v-fcf54b24]{width:16px;height:16px}.radio-img img[data-v-fcf54b24]{width:50px}.radio-rig[data-v-fcf54b24]{margin-left:10px}.radio-rig span[data-v-fcf54b24]{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p[data-v-fcf54b24]{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind[data-v-fcf54b24]{display:block}.box-solid-bt[data-v-fcf54b24]{border-bottom:1px solid #eee;margin-bottom:16px}.border-top[data-v-fcf54b24]{margin-top:15px;padding-top:15px}.border-top[data-v-fcf54b24],.tp-das[data-v-fcf54b24]{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text[data-v-fcf54b24]{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close[data-v-fcf54b24]{top:-5px}.el-submenu__title[data-v-fcf54b24]{border:none}.vue-treeselect__menu-container[data-v-fcf54b24],.vue-treeselect__portal-target[data-v-fcf54b24]{z-index:90000000000000!important}.el-tag.el-tag--info[data-v-fcf54b24]{color:#303133;font-size:14px}.roleUserList .leftPadding[data-v-fcf54b24]{padding:24px;background:#fff;margin-right:12px}.roleUserList .rightPadding[data-v-fcf54b24]{padding:24px;background:#fff;margin-left:12px}.roleUserList .hr[data-v-fcf54b24]{margin-bottom:24px;background-color:#dee0e3;height:1px;width:100%;border:none}",""])},7179:function(e,t,a){var o=a("65b9");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var l=a("499e").default;l("ab567d44",o,!0,{sourceMap:!1,shadowMode:!1})},d0ef:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"roleUserList"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"leftPadding"},[a("el-form",{attrs:{inline:!0,model:e.searchData}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属系统"}},[a("el-select",{attrs:{"value-key":"code",placeholder:"请选择"},model:{value:e.searchData.service,callback:function(t){e.$set(e.searchData,"service",t)},expression:"searchData.service"}},e._l(e.systems,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色编号"}},[a("el-input",{attrs:{placeholder:"请输入角色编号"},model:{value:e.searchData.roleCode,callback:function(t){e.$set(e.searchData,"roleCode",t)},expression:"searchData.roleCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.searchData.roleName,callback:function(t){e.$set(e.searchData,"roleName",t)},expression:"searchData.roleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchData.roleType,callback:function(t){e.$set(e.searchData,"roleType",t)},expression:"searchData.roleType"}},e._l(e.roleTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item")],1),a("el-col",{attrs:{span:12,push:4}},[a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.getData(1)}}},[e._v("查询")]),a("el-button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.getData(1)}}},[e._v("重置")])],1)],1)],1)],1),a("hr",{staticClass:"hr"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"tooltip-effect":"light",data:e.tableData,stripe:"",border:"","header-cell-style":{background:"#EBEBEB"},"highlight-current-row":"","element-loading-text":"拼命加载中"},on:{"current-change":function(t){return e.tableRow=t},"row-click":e.rowHandler}},[a("el-table-column",{attrs:{fixed:"",label:"序号",width:"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+1))])]}}])}),a("el-table-column",{attrs:{prop:"roleCode",align:"center",label:"角色编号","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"roleName",align:"center",label:"角色名称","show-overflow-tooltip":"","min-width":"20%"}}),a("el-table-column",{attrs:{prop:"roleType",align:"center",label:"角色类型","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.goEdit(t.row)}}},[e._v("新增用户")]),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),e.goEditOrg(t.row)}}},[e._v("新增组织")])]}}])})],1),a("common-pagination",{attrs:{list:e.pager1},on:{"handler-currentPage":e.getData}})],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"rightPadding"},[a("el-tabs",{attrs:{type:"card",value:"first"},on:{"tab-click":e.tabClick}},[a("el-tab-pane",{attrs:{label:"角色分配人员",name:"first"}},[a("el-form",{attrs:{inline:!0,model:e.searchData2}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"员工编号"}},[a("el-input",{model:{value:e.searchData2.userCode,callback:function(t){e.$set(e.searchData2,"userCode",t)},expression:"searchData2.userCode"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.searchData2.userName,callback:function(t){e.$set(e.searchData2,"userName",t)},expression:"searchData2.userName"}})],1),a("el-form-item",{attrs:{label:"组织编码"}},[a("el-input",{model:{value:e.searchData2.orgCode,callback:function(t){e.$set(e.searchData2,"orgCode",t)},expression:"searchData2.orgCode"}})],1),a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{model:{value:e.searchData2.orgName,callback:function(t){e.$set(e.searchData2,"orgName",t)},expression:"searchData2.orgName"}})],1),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.handlePageChange(1)}}},[e._v("查询")])],1)],1)],1)],1),a("hr",{staticClass:"hr"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"tooltip-effect":"light",data:e.userData,stripe:"",border:"","header-cell-style":{background:"#EBEBEB"},"highlight-current-row":"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{prop:"userCode",align:"left",label:"员工编号","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"userName",align:"left",label:"姓名","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"unitName",align:"center",label:"所属事业部","show-overflow-tooltip":"","min-width":"12%"}}),a("el-table-column",{attrs:{prop:"orgCode",align:"center",label:"组织编码","show-overflow-tooltip":"","min-width":"12%"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"组织名称","show-overflow-tooltip":"","min-width":"20%"}}),a("el-table-column",{attrs:{prop:"statusCode",align:"center",label:"状态","show-overflow-tooltip":"","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.statusCode?a("span",[e._v("生效")]):a("span",[e._v("失效")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",icon:"el-icon-remove"},on:{click:function(a){return e.delUser(t.row)}}},[e._v("删除")])]}}])})],1),a("common-pagination",{attrs:{list:e.pager2},on:{"handler-currentPage":e.handlePageChange}})],1),a("el-tab-pane",{attrs:{label:"角色分配组织",name:"help"}},[a("el-form",{attrs:{inline:!0,model:e.searchData2}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"组织编码"}},[a("el-input",{model:{value:e.searchData2.orgCode,callback:function(t){e.$set(e.searchData2,"orgCode",t)},expression:"searchData2.orgCode"}})],1),a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{model:{value:e.searchData2.orgName,callback:function(t){e.$set(e.searchData2,"orgName",t)},expression:"searchData2.orgName"}})],1),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.handlePageOrg(1)}}},[e._v("查询")])],1)],1)],1)],1),a("hr",{staticClass:"hr"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"tooltip-effect":"light",data:e.orgData,stripe:"",border:"","header-cell-style":{background:"#EBEBEB"},"highlight-current-row":"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{prop:"orgCode",align:"left",label:"组织编码","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"orgName",align:"left",label:"组织名称","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",icon:"el-icon-remove"},on:{click:function(a){return e.delOrg(t.row)}}},[e._v("删除")])]}}])})],1),a("common-pagination",{attrs:{list:e.pager5},on:{"handler-currentPage":e.handlePageOrg}})],1)],1)],1)])],1),a("el-dialog",{attrs:{title:"新增角色用户",visible:e.dlgRoleVisiable,width:"50%"},on:{"update:visible":function(t){e.dlgRoleVisiable=t}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-form",{attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"员工编号"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入员工编号"},model:{value:e.roleSearchOption.userCode,callback:function(t){e.$set(e.roleSearchOption,"userCode",t)},expression:"roleSearchOption.userCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入员工姓名"},model:{value:e.roleSearchOption.userName,callback:function(t){e.$set(e.roleSearchOption,"userName",t)},expression:"roleSearchOption.userName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入组织名称"},model:{value:e.roleSearchOption.orgName,callback:function(t){e.$set(e.roleSearchOption,"orgName",t)},expression:"roleSearchOption.orgName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getSelectUser(1)}}},[e._v("查 询")])],1)],1)],1)],1)],1),a("div",{staticClass:"div-table-roles"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"roleTables",attrs:{"tooltip-effect":"light",data:e.selectUserData,stripe:"",border:"","header-cell-style":{background:"#EBEBEB"},"highlight-current-row":"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"userCode",align:"left",label:"员工编号","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"userName",align:"left",label:"姓名","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"unitName",align:"center",label:"事业部","show-overflow-tooltip":"","min-width":"12%"}}),a("el-table-column",{attrs:{prop:"orgCode",align:"center",label:"组织编码","show-overflow-tooltip":"","min-width":"12%"}}),a("el-table-column",{attrs:{prop:"orgName",align:"center",label:"组织名称","show-overflow-tooltip":"","min-width":"20%"}})],1),a("common-pagination",{attrs:{list:e.pager3},on:{"handler-currentPage":e.getSelectUser}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dlgRoleVisiable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addRoleUser}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"新增角色组织或单位",visible:e.dlgRoleOrgVisiable,width:"50%"},on:{"update:visible":function(t){e.dlgRoleOrgVisiable=t}}},[a("div",{staticClass:"div-table-roles"},[a("el-form",{attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"组织编号"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入组织编号"},model:{value:e.roleSearchOption.orgCode,callback:function(t){e.$set(e.roleSearchOption,"orgCode",t)},expression:"roleSearchOption.orgCode"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{staticClass:"input-edit-role",attrs:{placeholder:"请输入组织名称"},model:{value:e.roleSearchOption.orgName,callback:function(t){e.$set(e.roleSearchOption,"orgName",t)},expression:"roleSearchOption.orgName"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getSelectOrg(1)}}},[e._v("查 询")])],1)],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"roleOrgTables",attrs:{"tooltip-effect":"light",data:e.selectOrgData,stripe:"",border:"","header-cell-style":{background:"#EBEBEB"},"highlight-current-row":"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"orgCode",align:"left",label:"组织编号","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"orgName",align:"left",label:"组织名称","show-overflow-tooltip":"","min-width":"10%"}}),a("el-table-column",{attrs:{prop:"unitCode",align:"center",label:"事业部","show-overflow-tooltip":"","min-width":"12%"}})],1),a("common-pagination",{attrs:{list:e.pager4},on:{"handler-currentPage":e.getSelectOrg}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dlgRoleOrgVisiable=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addRoleOrg}},[e._v("确 定")])],1)])],1)},l=[],r=a("448a"),i=a.n(r),n=a("3156"),s=a.n(n),c=a("9523"),d=a.n(c),f=a("b775"),p={data:function(){var e;return e={LOGIN_URL:"https://ylht.yili.com/api/isump",tableData:[],userData:[],orgData:[],selectUserData:[],selectOrgData:[],tableRow:null,loading:!1,searchData:{service:"contract"},searchData2:{},pager1:{currentPage:1,total:0,pageSize:10},pager2:{currentPage:1,total:0,pageSize:10},pager3:{currentPage:1,total:0,pageSize:10},pager4:{currentPage:1,total:0,pageSize:10},pager5:{currentPage:1,total:0,pageSize:10},roleSearchOption:{},roleTypes:[{value:"data",lable:"data"},{value:"function",lable:"function"},{value:"approval",lable:"approval"}],systems:[{name:"合同系统",code:"contract"}]},d()(e,"tableData",[]),d()(e,"selectRoleId",""),d()(e,"dlgRoleVisiable",!1),d()(e,"dlgRoleOrgVisiable",!1),d()(e,"showOrg",!0),d()(e,"showDept",!1),d()(e,"depts",[]),e},computed:{},methods:{getData:function(e){var t=this,a=s()({},this.pager1,this.searchData);this.loading=!0,a.currentPage=e.currentPage||e,f["a"].post("/isump/role/page/conditions",a,{baseURL:this.LOGIN_URL}).then(function(e){t.loading=!1,t.pager1.total=e.data.total,t.pager1.currentPage=e.data.current,t.pager1.pageSize=e.data.size,t.tableData=e.data.records})},rowHandler:function(e){this.selectRoleId=e.roleId,this.handlePageChange(1),this.handlePageOrg(1)},handlePageChange:function(e){var t=this,a=s()({currentPage:this.pager2.currentPage,pageSize:this.pager2.pageSize},this.searchData2,{roleId:this.selectRoleId});a.currentPage=e.currentPage||e,f["a"].post("/isump/user/query/user/page",a,{baseURL:this.LOGIN_URL}).then(function(e){t.pager2.total=e.data.total,t.pager2.currentPage=e.data.pageNo,t.pager2.pageSize=e.data.pageSize,t.userData=i()(e.data.content)})},handlePageOrg:function(e){var t=this,a={currentPage:this.pager5.currentPage,pageSize:this.pager5.pageSize,orgCode:this.searchData2.orgCode,orgName:this.searchData2.orgName,roleId:this.selectRoleId};a.currentPage=e.currentPage||e,f["a"].post("/isump/org-role/page/conditions/role",a,{baseURL:this.LOGIN_URL}).then(function(e){t.orgData=[],t.pager5.total=e.data.total,t.pager5.currentPage=e.data.current,t.pager5.pageSize=e.data.size,t.orgData=i()(e.data.records)})},getDirtByParentCode:function(e,t){f["a"].post("/isump/dict/list/conditions",{parentCode:e},{baseURL:this.LOGIN_URL}).then(function(e){t&&t(e)})},goEdit:function(e){this.dlgRoleVisiable=!0,this.selectRoleId=e.roleId,this.getSelectUser(1)},goEditOrg:function(e){this.selectRoleId=e.roleId,this.dlgRoleOrgVisiable=!0,this.getSelectOrg(1)},delUser:function(e){var t=this;this.$confirm("此操作将删除数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f["a"].delete("/isump/deputy-account-role/"+e.deputyAccountRoleId,{baseURL:t.LOGIN_URL}).then(function(e){t.$message({message:"操作成功",type:"success"}),t.handlePageChange(1)})})},delOrg:function(e){var t=this;this.$confirm("此操作将删除数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){f["a"].delete("/isump/org-role/"+e.rogRoleId,{baseURL:t.LOGIN_URL}).then(function(e){t.$message({message:"操作成功",type:"success"}),t.handlePageOrg(1)})})},getSelectUser:function(e){var t=this,a=s()({currentPage:this.pager3.currentPage,pageSize:this.pager3.pageSize},this.roleSearchOption,{orgId:""});a.currentPage=e.currentPage||e,f["a"].post("/isump/user/query/user/page",a,{baseURL:this.LOGIN_URL}).then(function(e){t.pager3.total=e.data.total,t.pager3.currentPage=e.data.pageNo,t.pager3.pageSize=e.data.pageSize,t.selectUserData=i()(e.data.content)})},getSelectOrg:function(e){var t=this,a=s()({currentPage:this.pager4.currentPage,pageSize:this.pager4.pageSize},this.roleSearchOption);a.currentPage=e.currentPage||e,f["a"].post("/isump/organization/page/conditions",a,{baseURL:this.LOGIN_URL}).then(function(e){t.selectOrgData=[],t.pager4.total=e.data.total,t.pager4.currentPage=e.data.current,t.pager4.pageSize=e.data.size,t.selectOrgData=i()(e.data.records)})},getDepts:function(){var e=this;f["a"].post("/isump/dept/list/conditions",{groupType:0},{baseURL:this.LOGIN_URL}).then(function(t){e.depts=i()(t.data)})},addRoleUser:function(){var e=this,t=this.$refs.roleTables.selection;if(!t||t.length<1)return this.$message({message:"请至少选择一条数据",type:"warning"});var a=[],o=!0,l=!1,r=void 0;try{for(var i,n=function(){var t=i.value,o=new Promise(function(a,o){f["a"].post("/isump/deputy-account-role",{deputyAccountId:t.deputyAccountId,roleId:e.selectRoleId},{baseURL:e.LOGIN_URL}).then(function(e){e&&e.data&&a(e.data)})});a.push(o)},s=t[Symbol.iterator]();!(o=(i=s.next()).done);o=!0)n()}catch(c){l=!0,r=c}finally{try{o||null==s.return||s.return()}finally{if(l)throw r}}Promise.all(a).then(function(){e.$message({message:"添加角色用户成功",type:"success"}),e.dlgRoleVisiable=!1,e.handlePageChange(1)})},addRoleOrg:function(){var e=this,t=[];if(t=this.showOrg?this.$refs.roleOrgTables.selection:this.$refs.roleDeptTables.selection,!t||t.length<1)return this.$message({message:"请至少选择一条数据",type:"warning"});var a=[],o=!0,l=!1,r=void 0;try{for(var i,n=function(){var t=i.value,o=new Promise(function(a,o){var l={};l.roleId=e.selectRoleId,e.showOrg?l.orgId=t.orgId:l.orgId=t.deptCode,f["a"].post("/isump/org-role",l,{baseURL:e.LOGIN_URL}).then(function(e){e&&e.data&&a(e.data)})});a.push(o)},s=t[Symbol.iterator]();!(o=(i=s.next()).done);o=!0)n()}catch(c){l=!0,r=c}finally{try{o||null==s.return||s.return()}finally{if(l)throw r}}Promise.all(a).then(function(){e.$message({message:"添加角色组织成功",type:"success"}),e.dlgRoleOrgVisiable=!1,e.handlePageChange(1)})},tabClick:function(e){"first"==e.name?0===this.userData.length&&this.handlePageChange(1):0===this.orgData.length&&this.handlePageOrg(1)}}},g=p,b=(a("5c20"),a("0c7c")),u=Object(b["a"])(g,o,l,!1,null,"fcf54b24",null);t["default"]=u.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da561"],{"6abb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix flex flex-center-between",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("组织树")])]),a("el-row",{staticClass:"bg-white"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-tree",{attrs:{data:e.treeData,"highlight-current":"","node-key":"orgCode",props:e.defaultProps,load:e.loadTree,lazy:"","default-expanded-keys":[" "]},on:{"node-click":e.handleNodeClick}})],1),a("el-col",{attrs:{span:19}},[a("el-form",{attrs:{inline:!0,model:e.selOrg,"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"组织编码"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.selOrg.orgCode,callback:function(t){e.$set(e.selOrg,"orgCode",t)},expression:"selOrg.orgCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"组织名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.selOrg.orgName,callback:function(t){e.$set(e.selOrg,"orgName",t)},expression:"selOrg.orgName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"简称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.selOrg.simpleName,callback:function(t){e.$set(e.selOrg,"simpleName",t)},expression:"selOrg.simpleName"}})],1)],1)],1)],1),a("el-form",{attrs:{model:e.searchForm,"label-width":"100px","label-position":"left"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户编号",prop:"userCode"}},[a("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:e.searchForm.userCode,callback:function(t){e.$set(e.searchForm,"userCode",t)},expression:"searchForm.userCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户编号"},model:{value:e.searchForm.userName,callback:function(t){e.$set(e.searchForm,"userName",t)},expression:"searchForm.userName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.searchForm.phone,callback:function(t){e.$set(e.searchForm,"phone",t)},expression:"searchForm.phone"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.searchForm.email,callback:function(t){e.$set(e.searchForm,"email",t)},expression:"searchForm.email"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号",prop:"idCard"}},[a("el-input",{attrs:{placeholder:"请输入证件号"},model:{value:e.searchForm.idCard,callback:function(t){e.$set(e.searchForm,"idCard",t)},expression:"searchForm.idCard"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"用户状态",prop:"statusCode"}},[a("el-select",{attrs:{placeholder:"请输入选择"},model:{value:e.searchForm.statusCode,callback:function(t){e.$set(e.searchForm,"statusCode",t)},expression:"searchForm.statusCode"}},[a("el-option",{key:"",attrs:{value:"",label:"全部"}}),a("el-option",{key:"0",attrs:{value:"0",label:"有效"}}),a("el-option",{key:"1",attrs:{value:"1",label:"失效"}})],1),e._v("\n                             \n                          "),a("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:function(t){return e.handlerCurrentPage(1)}}},[e._v("查询\n                          ")])],1)],1)],1)],1),a("el-table",{staticStyle:{width:"99%"},attrs:{data:e.tableData,"highlight-current-row":!0}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),a("el-table-column",{attrs:{prop:"userCode",label:"用户编码"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"idCard",label:"证件号"}}),a("el-table-column",{attrs:{prop:"unitCode",label:"所属事业部"}}),a("el-table-column",{attrs:{prop:"unitName",label:"事业部名称",width:"100"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                      "+e._s("1"==t.row.statusCode?"失效":"有效")+"\n                  ")]}}])})],1),a("common-pagination",{attrs:{list:e.searchForm},on:{"handler-currentPage":e.handlerCurrentPage}})],1)],1)],1)],1)],1)},l=[],o=a("a34a"),s=a.n(o),n=a("c973"),c=a.n(n),i=a("3156"),u=a.n(i),d=a("2f62"),p=a("b1b9"),m={data:function(){return{treeData:[],tableData:[],defaultProps:{label:"orgName",isLeaf:function(e,t){return"1"!==e.isn}},selOrg:{},searchForm:{pageNum:1,pageSize:10,total:0}}},computed:u()({},Object(d["b"])(["getAuthObj"])),created:function(){},methods:{loadTree:function(e,t){if(0===e.level)return t([{id:26,orgCode:"00000001",orgName:"伊利集团",orgType:"org",orgState:"0",isn:"1"}]);this.getOrgChildren(e.data,function(e){return t(e)})},getOrgChildren:function(e,t){return c()(s.a.mark(function a(){var r,l;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(p["e"])(e.orgCode);case 2:r=a.sent,r.code,l=r.data,t(l);case 6:case"end":return a.stop()}},a)}))()},handleNodeClick:function(e){this.selOrg=e;var t={};t.orgId=this.selOrg.orgId,t.orgCode=this.selOrg.orgCode,t.currentPage=0,t.pageSize=10,this.queryUserHandle(t)},queryUserHandle:function(e){var t=this;return c()(s.a.mark(function a(){var r,l,o;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(p["f"])(e);case 2:r=a.sent,l=r.code,o=r.data,l&&"000000"===l&&(t.searchForm.total=o.total,t.searchForm.currentPage=o.pageNo,t.searchForm.pageSize=o.pageSize,t.tableData=o.content);case 6:case"end":return a.stop()}},a)}))()},handlerCurrentPage:function(e){this.searchForm.currentPage=e.currentPage||e,this.searchForm.orgCode=this.selOrg.orgCode,this.queryUserHandle(this.searchForm)}}},h=m,b=a("0c7c"),g=Object(b["a"])(h,r,l,!1,null,"2b368a82",null);t["default"]=g.exports}}]);
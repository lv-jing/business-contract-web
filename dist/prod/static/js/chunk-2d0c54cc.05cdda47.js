(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c54cc"],{"3f03":function(e,t,a){"use strict";a.r(t);var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a(e.choose,{ref:"declaration",tag:"component"})],1)},n=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[e._v("*该页面用于管理批量范本的导入excel表格")])],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("CommonTreeSelect",{attrs:{disabled:"templates"===e.$route.query.typeName,treeSelect:e.treeSelect,"dict-code":e.dictCode}})],1),a("el-col",{attrs:{span:12}},[a("common-upload",{attrs:{title:""},on:{"get-file-list":e.getFileListTree}})],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.uploadBatch}},[e._v("提交")])],1)],1)],1)},o=[],s=a("a34a"),l=a.n(s),i=a("c973"),u=a.n(i),p=a("3544"),d=a("bae7"),f={components:{CommonUpload:p["a"]},data:function(){return{contractTypeCode:"",contractTypeName:"",dictCode:"INCOME_EXPE_TYPE",fileData:[]}},methods:{treeSelect:function(e){this.contractTypeCode=e.dictCode,this.contractTypeName=e.dictName,console.log(this.contractType,"----1")},getFileListTree:function(e){this.fileData=e,console.log(e,"---0---")},uploadBatch:function(){var e=this;return u()(l.a.mark(function t(){var a,c,n;return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.contractTypeCode){t.next=3;break}return e.$message({type:"error",message:"请选择合同类型！"}),t.abrupt("return");case 3:if(1==e.fileData.length){t.next=6;break}return e.$message({type:"error",message:"请上传附件且选择一个！"}),t.abrupt("return");case 6:return a={contractType:e.contractTypeCode,contractName:e.contractTypeName,excelId:e.fileData[0].fileId,excelName:e.fileData[0].fileName,excelType:e.fileData[0].fileType,excelFileurl:e.fileData[0].fileUrl},t.next=9,Object(d["e"])(a);case 9:c=t.sent,n=c.code,c.data,"000000"===n&&e.$message({type:"success",message:"关联成功！"});case 13:case"end":return t.stop()}},t)}))()}}},m=f,h=a("0c7c"),y=Object(h["a"])(m,r,o,!1,null,null,null),g=y.exports,T={name:"apply",data:function(){return{choose:g}},watch:{$route:function(e,t){var a=e.query.type;this.changeComponent(a)}},created:function(){var e=this.$route.query.type;this.changeComponent(e)},methods:{changeComponent:function(e){switch(e){default:this.choose=g;break}}}},w=T,b=Object(h["a"])(w,c,n,!1,null,"226cff3a",null);t["default"]=b.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b614f30"],{"33c3":function(t,e,n){e=t.exports=n("7b4b")(!1),e.push([t.i,"blockquote,body,dd,dl,dt,fieldset,h1,h2,h3,h4,h5,h6,input,ol,p,pre,td,textarea,th,ul{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body,html{overflow:hidden}body .el-table colgroup.gutter,body .el-table th.gutter{display:table-cell!important}table{border-collapse:collapse;border-spacing:0;empty-cells:show}ul{list-style:none}input:-webkit-autofill,select:-webkit-autofill,textarea:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium{vertical-align:bottom!important}.el-select__input{vertical-align:baseline}input{background-color:transparent}input:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white{background:#fff}.pl24{padding-left:24px}.pd16{padding:16px}.pd24{padding:24px}.pd24_1,.pdl24{padding-left:24px}.pd24_1{padding-bottom:24px}.tc{text-align:center}.tr{text-align:right}.white{color:#fff}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center,.flex-center-between{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around,.flex-center-end{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5{margin-left:5px}.ml10{margin-left:10px}.ml15{margin-left:15px}.ml20{margin-left:20px}.mr10{margin-right:10px}.mr20{margin-right:20px}.mt10{margin-top:10px}.mt16{margin-top:16px}.mt20{margin-top:20px}.mt24{margin-top:24px}.mb16{margin-bottom:16px}.mb20{margin-bottom:20px}.mb24{margin-bottom:24px}.p15{padding:15px}.p20{padding:20px}.p25{padding:25px}.pt10{padding-top:10px}.pt30{padding-top:30px}.pr20{padding-right:20px}.pb24{padding-bottom:24px}.el-drawer__body{overflow:auto!important}.pointer{cursor:pointer}img{border:0}textarea{resize:none}caption,th{text-align:left}em,i{font-style:normal}hr{margin-top:0;margin-bottom:0}a:focus{outline:none!important}a{text-decoration:none!important;color:#2393f7}.el-drawer:focus,button:focus,input:focus{outline:none;-moz-outline:none}.__view{width:0!important}.form-bg{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner{color:#303133;font-size:14px}.form-bg .el-textarea__inner{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner{color:#303133;font-size:14px}.w-100{width:100%!important}.t-l{text-align:left}.list-search{width:100%}.el-icon-document-copy{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active{text-align:center!important}.color-blue{color:#0070c1}.el-menu--collapse{width:auto}.common-footer-box{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content{margin-left:14%;width:77%}.ft18{font-size:18px}.ft16{font-size:16px}.ft10{padding-top:20px;font-size:14px}.ft25{font-size:25px}.el-dialog__header{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node,.is-expanded,.is-focusable{color:#606266}.is-current{color:#2393f7}.bg100{height:100px}li{list-style:none}.el-menu--popup-right-start{margin-left:0}.el-step__description.is-finish{color:#303133}.el-step__title.is-finish{color:#303133!important}.el-step__head.is-finish{color:#303133;border-color:#303133}.el-step__description.is-wait,.el-step__title.is-wait{color:#303133}.el-step__head.is-wait{color:#303133;border-color:#303133}.el-step__line{background-color:#303133}.el-tooltip__popper{max-width:20%}.underline{text-decoration:underline;color:#2393f7}.modlue-box{width:100%;height:100%;position:fixed;z-index:20}.viewOffice{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control{height:32px}.vue-treeselect__menu{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular{display:none}.modlue-box .el-loading-spinner .el-loading-text{font-size:16px}.radio-cont{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio{padding-bottom:14px}.setradio .el-radio{padding:0;width:100%;background:#fff}.setradio .el-radio,.setradio .el-radio__input{white-space:normal}.setradio .el-radio__label{padding:0}.setradio .el-radio.is-bordered.is-checked{border:2px solid #409eff}.setradio .el-radio-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner{width:16px;height:16px}.radio-img img{width:50px}.radio-rig{margin-left:10px}.radio-rig span{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind{display:block}.box-solid-bt{border-bottom:1px solid #eee;margin-bottom:16px}.border-top{margin-top:15px;padding-top:15px}.border-top,.tp-das{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close{top:-5px}.el-submenu__title{border:none}.vue-treeselect__menu-container,.vue-treeselect__portal-target{z-index:90000000000000!important}.el-tag.el-tag--info{color:#303133;font-size:14px}.applySeal .el-checkbox__inner{border:1px solid red}.applySeal .el-checkbox__input.is-checked .el-checkbox__inner,.applySeal .el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:red;border-color:red}.applySeal .el-checkbox__inner:hover,.applySeal .el-checkbox__input.is-focus .el-checkbox__inner{border-color:red}.el-popover--plain{font-family:PingFangSC-Medium;background:#f5f6f7;text-align:center;border-radius:15px;-webkit-box-shadow:2px 2px 6px #888;box-shadow:2px 2px 6px #888}.el-popover--plain .popper__arrow:after{border-top-color:#f5f6f7!important}",""])},"6dac":function(t,e,n){var r=n("33c3");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=n("499e").default;o("30574db6",r,!0,{sourceMap:!1,shadowMode:!1})},9125:function(t,e,n){"use strict";var r=n("6dac"),o=n.n(r);o.a},"9ff6":function(t,e,n){"use strict";n.d(e,"j",function(){return o}),n.d(e,"i",function(){return i}),n.d(e,"h",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"m",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"c",function(){return p}),n.d(e,"k",function(){return d}),n.d(e,"a",function(){return u}),n.d(e,"o",function(){return f}),n.d(e,"l",function(){return m}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return b}),n.d(e,"n",function(){return h}),n.d(e,"g",function(){return x});var r=n("b775");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post("/contract/ecm-contract-sign/list/conditions",t).then(function(t){return t})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post("/contract/ecm-contract-sign/page/conditions",t).then(function(t){return t})}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post("/contract/ecm-contract-sign/company/status",t).then(function(t){return t})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post("/contract/ecm-contract-sign/company/auth",t).then(function(t){return t})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].post("/contract/ecm-contract-sign/sign/page",t).then(function(t){return t})}function l(t){return r["a"].post("/contract/work/getJumpPath",t).then(function(t){return t})}function p(t){return r["a"].post("/contract/ecm-contract-print/getContractPrint",t).then(function(t){return t})}function d(t){return r["a"].post("/contract/ecm-contract-print/saveContractPrint",t).then(function(t){return t})}function u(t){return r["a"].post("/contract/ecm-contract-print/changeContractPrint",t).then(function(t){return t})}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r["a"].post("/contract/ecm-contract-sign/updateBatch",t).then(function(t){return t})}function m(t){return r["a"].post("/contract/ecm-contract-no-water",t).then(function(t){return t})}function g(t){return r["a"].get("/contract/ecm-contract-no-water/"+t).then(function(t){return t})}function b(t){return r["a"].post("/contract/ecm-contract-no-water/list/conditions",t).then(function(t){return t})}function h(t){return r["a"].post("/contract/ecm-contract-offile-seal",t).then(function(t){return t})}function x(t){return r["a"].post("/contract/ecm-contract-offile-seal/list/conditions",t).then(function(t){return t})}},e073e:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"applySeal"},[n("el-form",{ref:"rulesForm",attrs:{"label-width":"150px",model:t.ruleForm,rules:t.rule}},[n("b",{staticClass:"ft18"},[t._v("选择签署方式")]),n("common-title",{staticClass:"ft16 pd24",attrs:{title:"合同简要信息"}}),n("div",{staticClass:"bg-white p25"},[n("CommonContractInfo",{attrs:{contractId:t.contractId},model:{value:t.contractInfo,callback:function(e){t.contractInfo=e},expression:"contractInfo"}})],1),n("div",{staticClass:"bg-white mt20 pt30 pr20"},[n("common-title",{staticClass:"ft16 pdl24",attrs:{title:"请选择签署方式"}}),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"签订方式",prop:"signWay"}},[n("common-select",{attrs:{disabled:!t.isEdit,dictCode:"SIGN_WAY",value:t.ruleForm.signWay,placeholder:"请选择签订方式",isSplicing:!1},model:{value:t.ruleForm.signWay,callback:function(e){t.$set(t.ruleForm,"signWay",e)},expression:"ruleForm.signWay"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"用印顺序",prop:"signOrder"}},[n("common-select",{attrs:{disabled:!t.isEdit,dictCode:"SIGN_ORDER",value:t.ruleForm.signOrder,placeholder:"请选择用印顺序",isSplicing:!1},model:{value:t.ruleForm.signOrder,callback:function(e){t.$set(t.ruleForm,"signOrder",e)},expression:"ruleForm.signOrder"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"印章类型",prop:"sealType"}},[n("el-popover",{attrs:{placement:"top-start",width:"250",trigger:"hover",content:"选择印章类型：基于公司目前的管理，应优先选择加盖合同专用章，特殊情况下才可使用公章，请知晓！"}},[n("common-select",{attrs:{slot:"reference",disabled:!t.isEdit,dictCode:"SEAL_TYPE",value:t.ruleForm.sealType,placeholder:"请选择印章类型",isSplicing:!1},slot:"reference",model:{value:t.ruleForm.sealType,callback:function(e){t.$set(t.ruleForm,"sealType",e)},expression:"ruleForm.sealType"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请用印合同份数",prop:"printNum"}},[n("el-input-number",{staticClass:"w-100",attrs:{disabled:!t.isEdit,min:1,max:1e3,label:"描述文字"},on:{change:t.handleChange},model:{value:t.ruleForm.printNum,callback:function(e){t.$set(t.ruleForm,"printNum",e)},expression:"ruleForm.printNum"}})],1)],1),n("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:24,push:1}},[n("div",{staticClass:"pl24",staticStyle:{color:"red"}},[t._v("选择印章类型：基于公司目前的管理，应优先选择加盖合同专用章，特殊情况下才可使用公章，请知晓")])]),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{span:24,push:1}},[n("div",{staticClass:"pd24"},[n("el-checkbox",{staticClass:"ft16",attrs:{fill:"red"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[n("span",{staticClass:"ft16 ml10",staticStyle:{color:"red"}},[t._v("我承诺：签字盖章的合同文本与系统内最终审批的合同文本一致")])])],1)])],1)],1),t.isPop?t._e():n("div",{staticClass:"bg-white mt20 pt10 pr20 pb24"},[n("common-title",{staticClass:"ft16 pd24",attrs:{title:"文件信息"}}),n("fieldset",{staticClass:"ml20",staticStyle:{border:"1px solid gray","border-radius":"5px"}},[n("legend",{staticClass:"ft16 ml20"},[t._v("审批单")]),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticStyle:{"text-align":"center"}},[n("el-link",{attrs:{type:"primary"},on:{click:t.printContractInfo}},[t._v("合同审批单")])],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("el-button",{staticClass:"button",attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:t.printContractInfo}},[t._v("打印预览")]),n("el-button",{staticClass:"button",attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:t.printContractInfo}},[t._v("下载")])],1)],1)],1)],1),t.contractInfo.ecmBusinessAttamentList&&t.contractInfo.ecmBusinessAttamentList.length>0?n("fieldset",{staticClass:"ml20 mt20",staticStyle:{border:"1px solid gray","border-radius":"5px"}},[n("legend",{staticClass:"ft16 ml20"},[t._v("合同")]),t._l(t.contractInfo.ecmBusinessAttamentList,function(e,r){return n("div",{key:r},["template"===e.businessType&&"STA004"===e.fileStatus?n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticStyle:{"text-align":"center"}},[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.preview(e)}}},[t._v(t._s(e.fileName))])],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("el-button",{staticClass:"button",attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:function(n){return t.preview(e)}}},[t._v("打印预览")]),n("el-button",{staticClass:"button",attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:function(n){return t.downLoad(e)}}},[t._v("下载")])],1)],1)],1):t._e()],1)})],2):t._e()],1),n("commonApproval",{attrs:{visible:t.visible,handleCancel:t.handleCancel,approvalParams:t.approvalParams},on:{"get-approvl-start":t.getApprovlStart}})],1),t.isPop?t._e():n("div",{staticClass:"common-footer-box"},[n("div",{staticClass:"common-footer"},[n("div",{staticStyle:{width:"50%"}}),n("div",{staticClass:"button-content"},[n("div",{staticStyle:{float:"right"}},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"button",attrs:{type:"primary",disabled:!t.checked,icon:"iconfont sbt_add"},on:{click:t.confirm}},[t._v("提交")]),t.isPop||"STA005"!==t.contractInfo.statue&&"STA006"!==t.contractInfo.statue&&"STA009"!==t.contractInfo.statue&&"STA007"!==t.contractInfo.statue&&"STA008"!==t.contractInfo.statue?t._e():n("CommonSignDeleteButton",{attrs:{contractId:t.contractId},on:{callBackDeal:t.deleteProcess}}),t.isPop?t._e():n("el-button",{staticClass:"button",attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:t.cancel}},[t._v("返回")])],1)])])])],1)},o=[],i=n("3156"),a=n.n(i),c=n("a34a"),s=n.n(c),l=n("c973"),p=n.n(l),d=n("9ff6"),u=n("94cf"),f=n("b54d"),m={data:function(){return{rule:{signWay:[{required:!0,message:"请选择签订方式",trigger:"blur"}],signOrder:[{required:!0,message:"请选择用印顺序",trigger:"blur"}],sealType:[{required:!0,message:"请选择印章类型",trigger:"blur"}],printNum:[{required:!0,message:"请选择申请用印合同份数",trigger:"blur"}]},ruleForm:{printNum:1},contractInfo:{},isEdit:!1,isChange:!1,checked:!1,jumpData:{},contractId:"",signType:"",isPop:!1,isLoading:!1,visible:!1,approvalParams:{}}},props:{contractIdParam:"",signTypeParam:""},created:function(){this.contractIdParam?(this.contractId=this.contractIdParam,this.signType=this.signTypeParam,this.isPop=!0):(this.contractId=this.$route.query.contractId,this.signType=this.$route.query.signType,this.isPop=!1)},watch:{contractInfo:function(t){this.ruleForm.printNum<=1&&(this.ruleForm.printNum=this.contractInfo.contractNumber)}},mounted:function(){this.$store.dispatch("setHeight",190),this.$route.query.id&&!this.contractIdParam?this.getFormInfoByProcess():(this.getJump(),this.getContractPrintInfo()),"CHANGESIGN"===this.signType&&(this.isChange=!0)},methods:{confirm:function(){var t=this;this.checked?this.$refs.rulesForm.validate(function(e){e&&(t.ruleForm.contractId=t.contractInfo.contractId,t.ruleForm.contractName=t.contractInfo.contractName,t.ruleForm.contractNo=t.contractInfo.contractNo,"SIW002"===t.ruleForm.signWay?t.checkCompany(function(e){e.length>0?t.$confirm("对方："+e.join(",")+"未进行资质认证，是否继续使用电子签章","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"CHANGESIGN"===t.signType?t.changeContractPrint():"CHOOSESIGNTYPE"===t.signType&&t.saveContractPrint()}).catch(function(t){console.log(t)}):"CHANGESIGN"===t.signType?t.openApploval():"CHOOSESIGNTYPE"===t.signType&&t.saveContractPrint()}):"CHANGESIGN"===t.signType?t.openApploval():"CHOOSESIGNTYPE"===t.signType&&t.saveContractPrint())}):this.$message({type:"warning",message:"请勾选承诺信息！"})},openApploval:function(){this.visible=!0,this.approvalParams={objectTypeCode:"SIGN_APPROVAL",businessId:this.ruleForm.contractId,attribute1:this.ruleForm.signWay,attribute2:this.ruleForm.signOrder}},getApprovlStart:function(t){var e=this;return p()(s.a.mark(function n(){var r,o,i,a;return s.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(r="",r="CHANGESIGN"===e.signType?"":e.jumpData.bpmProcessTaskVo.workflowHistoryId,o={id:r,sysProcessLinkHeadVo:t.sysProcessLinkHead},"CHANGESIGN"!==e.signType){n.next=7;break}e.changeContractPrint(o),n.next=13;break;case 7:return n.next=9,Object(u["i"])(o);case 9:i=n.sent,a=i.code,i.data,"000000"===a&&(e.$message({type:"success",message:"处理成功"}),e.$router.push({name:"agencymatter"}));case 13:case"end":return n.stop()}},n)}))()},handleCancel:function(){this.visible=!1,this.isLoading=!1},cancel:function(){this.$router.go(-1)},getJump:function(){var t=this;return p()(s.a.mark(function e(){var n,r,o,i;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={businessId:t.contractId,objectTypeCode:"APPLY_PRINT_APPROVAL"},e.next=3,Object(d["d"])(n);case 3:r=e.sent,o=r.code,i=r.data,"000000"===o&&(t.jumpData=i,"0"===i.jumpApproval&&(t.isEdit=!1),"1"===i.jumpApproval&&(t.isEdit=!0),"2"===i.jumpApproval&&(t.isEdit=!1),!0===t.isChange&&(t.isEdit=!0));case 7:case"end":return e.stop()}},e)}))()},getContractPrintInfo:function(){var t=this;return p()(s.a.mark(function e(){var n,r,o,i;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={contractId:t.contractId},e.next=3,Object(d["c"])(n);case 3:r=e.sent,o=r.code,i=r.data,"000000"===o&&(t.ruleForm=i);case 7:case"end":return e.stop()}},e)}))()},handleChange:function(){},saveContractPrint:function(){var t=this;return p()(s.a.mark(function e(){var n,r,o;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["k"])(t.ruleForm);case 2:n=e.sent,r=n.code,o=n.data,"000000"===r&&(t.ruleForm.contractPrintId=o.contractPrintId,t.openApploval());case 6:case"end":return e.stop()}},e)}))()},changeContractPrint:function(t){var e=this;return p()(s.a.mark(function n(){var r,o,i;return s.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return e.ruleForm.contractPrintId=null,r=a()({},e.ruleForm,t),n.next=4,Object(d["a"])(r);case 4:o=n.sent,i=o.code,o.data,"000000"===i&&(e.isLoading=!1,e.$message({type:"success",message:"处理成功"}),e.$router.push({name:"agencymatter"}));case 8:case"end":return n.stop()}},n)}))()},getFormInfoByProcess:function(){var t=this;return p()(s.a.mark(function e(){var n,r,o,i;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.query.id,e.next=3,Object(u["m"])({id:n});case 3:r=e.sent,o=r.code,i=r.data,"000000"===o&&(t.contractId=i.contractId,t.signType="CHOOSESIGNTYPE",t.getJump(),t.getContractPrintInfo());case 7:case"end":return e.stop()}},e)}))()},checkCompany:function(t){var e=this;return p()(s.a.mark(function n(){var r,o,i,a,c,l;return s.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:r=[],o=0;case 2:if(!(o<e.contractInfo.contractEntityList.length)){n.next=17;break}if(i=e.contractInfo.contractEntityList[o],i.entityId){n.next=7;break}return e.$message({type:"warning",message:"对方："+i.entityName+"，在系统中不存在，不允许进行电子签章！"}),n.abrupt("return");case 7:if("ENT02"!==i.entityType){n.next=14;break}return n.next=10,Object(d["h"])({entityName:i.entityName});case 10:a=n.sent,c=a.code,l=a.data,"000000"===c&&"PASSED"!=l&&r.push(i.entityName);case 14:o++,n.next=2;break;case 17:t&&t(r);case 18:case"end":return n.stop()}},n)}))()},deleteProcess:function(){var t=this;return p()(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm("此操作将不可逆转, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteDone()}).catch(function(){});case 1:case"end":return e.stop()}},e)}))()},deleteDone:function(){var t=this;return p()(s.a.mark(function e(){var n,r,o;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={contractId:t.contractId},e.next=3,Object(u["a"])(n);case 3:r=e.sent,o=r.code,r.data,"000000"===o&&(t.$message({type:"success",message:"撤回成功！"}),t.cancel());case 7:case"end":return e.stop()}},e)}))()},preview:function(t){var e=this.$Cookie.get("token");window.open(f["b"]+"/"+t.fileId+"/"+t.fileId+"/?token="+e)},downLoad:function(t){var e=this.$Cookie.get("token");window.open(f["a"]+"/"+t.fileId+"/?token="+e)},printContractInfo:function(){var t=this.$router.resolve({path:"/contractPrintForm",query:{contractId:this.contractId}});window.open(t.href,"_blank")}}},g=m,b=(n("9125"),n("a6c2")),h=Object(b["a"])(g,r,o,!1,null,null,null);e["a"]=h.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15fb7ee7"],{"6e34":function(t,e,a){"use strict";var o=a("b6ea"),i=a.n(o);i.a},"706d":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-white mb24 pd24"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"范本名称",prop:"templateName"}},[a("el-input",{attrs:{placeholder:"请输范本名称"},model:{value:t.ruleForm.templateName,callback:function(e){t.$set(t.ruleForm,"templateName",e)},expression:"ruleForm.templateName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"范本编号",prop:"templateNo"}},[a("el-input",{attrs:{placeholder:"请输范本编号"},model:{value:t.ruleForm.templateNo,callback:function(e){t.$set(t.ruleForm,"templateNo",e)},expression:"ruleForm.templateNo"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"适用合同类型",prop:"attribute2"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择合同类型"},model:{value:t.ruleForm.attribute2,callback:function(e){t.$set(t.ruleForm,"attribute2",e)},expression:"ruleForm.attribute2"}},t._l(t.conditList,function(t,e){return a("el-option",{key:e,attrs:{label:t.attribute1||t.dictName,value:t.dictCode}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"适用组织范围",prop:"attribute3"}},[a("el-select",{staticClass:"w-100",attrs:{disabled:!t.isAdmin,placeholder:"请选择"},model:{value:t.ruleForm.attribute3,callback:function(e){t.$set(t.ruleForm,"attribute3",e)},expression:"ruleForm.attribute3"}},t._l(t.templateUnitData,function(t){return a("el-option",{key:t.unitCode,attrs:{label:t.unitName,value:t.unitCode}})}),1)],1)],1),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"button-box tr"},[a("el-button",{attrs:{type:"primary",icon:"iconfont sbt_add"},on:{click:t.formSearchMethod}},[t._v("查询\n            ")]),a("el-button",{attrs:{icon:"iconfont sbt_add"},on:{click:function(e){return t.formResetMethod("ruleForm")}}},[t._v("重置\n            ")])],1)])],1)],1)],1),a("div",{staticClass:"bg-white user-form-table pd24"},[a("el-table",{staticClass:"mt10 md20",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","highlight-current-row":"","header-cell-style":{background:"#f3f3f3"},size:"small"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"templateName",label:"范本名称"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("a",{staticClass:"pointer",on:{click:function(e){return t.handleGoto(o)}}},[t._v(t._s(o.templateName))])]}}])}),a("el-table-column",{attrs:{prop:"templateNo",label:"范本编号"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("a",{staticClass:"pointer",on:{click:function(e){return t.handleGoto(o)}}},[t._v(t._s(o.templateNo))])]}}])}),a("el-table-column",{attrs:{prop:"attribute3",label:"适用组织范围"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("span",[t._v(t._s(t.getAttriBute(o)))])]}}])}),a("el-table-column",{attrs:{prop:"attribute1",label:"适用合同类型"}}),a("el-table-column",{attrs:{prop:"statue",label:"范本状态"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("span",[t._v(t._s(t.getStatue(o)))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("div",{staticClass:"tc"},[a("el-button",{attrs:{slot:"reference",type:"text",size:"mini",circle:""},on:{click:function(e){return t.handleGotoApproval(o)}},slot:"reference"},[t._v("发起合同\n            ")]),a("el-popconfirm",{attrs:{title:"确认删除该条记录吗?"},on:{onConfirm:function(e){return t.handleDeleteClick(o)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"mini",circle:""},slot:"reference"},[t._v("移出常用")])],1)],1)]}}])})],1),a("common-pagination",{attrs:{list:t.searchForm},on:{"handler-currentPage":t.handlerCurrentPage}})],1)])},i=[],n=a("a34a"),r=a.n(n),l=a("c973"),d=a.n(l),s=a("3156"),c=a.n(s),p=a("bae7"),b=a("6876"),u=a("2f62"),m=a("b1b9"),f=a("391d"),v={data:function(){return{conditList:[],overHeight:"150px",templateUnitData:[],statueList:[],ruleForm:{templateName:"",templateNo:"",attribute2:"",attribute3:""},rules:{},deletUrl:"",tableData:[],searchForm:{currentPage:1,pageSize:10,total:0},isAdmin:!1}},computed:c()({},Object(u["c"])({userInfo:function(t){return t.common.userInfo}})),mounted:function(){this.$store.dispatch("setHeight",100),this.ruleForm.attribute3=this.$store.state.common.userInfo.unitCode,this.getMyCommonTemplate(),this.getAllUnit(),this.dictSelectList(),this.getContractType(),this.getCurrentPersonRole()},methods:{handleDeleteClick:function(t){var e=this;return d()(r.a.mark(function a(){var o,i;return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(p["h"])({templateId:t.templateId});case 2:o=a.sent,i=o.code,o.data,"000000"===i&&(e.getMyCommonTemplate(),e.dictSelectList());case 6:case"end":return a.stop()}},a)}))()},handleGotoApproval:function(t){var e=t.attribute1.split("-")[0],a="支出类"===e||"支出"===e?"IET002":"收入类"===e||"收入"===e?"IET001":"有收有支类"===e||"有收有支"===e?"IET003":"无收无支类"===e||"无收无支"===e?"IET004":"";this.$router.push({name:"singleContract",query:{type:"add",dictCode:a,contractTypeCode:t.attribute2,templateId:t.templateId,templateAttr:"CTA001",typeName:"templates"}})},getContractType:function(t){var e=this;return d()(r.a.mark(function t(){var a,o,i;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["h"])({dictCode:"INCOME_EXPE_TYPE",attribute1:4});case 2:a=t.sent,o=a.code,i=a.data,"000000"===o&&(e.conditList=[],e.getConditList(i));case 6:case"end":return t.stop()}},t)}))()},getConditList:function(t){var e=this;t&&t.map(function(t){t.dictVoList&&t.dictVoList.length>0?e.getConditList(t.dictVoList):e.conditList.push(t)})},getAllUnit:function(){var t=this;return d()(r.a.mark(function e(){var a,o,i,n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={},e.next=3,Object(m["a"])(a);case 3:o=e.sent,i=o.code,n=o.data,"000000"===i&&(t.templateUnitData=n);case 7:case"end":return e.stop()}},e)}))()},dictSelectList:function(){var t=this;return d()(r.a.mark(function e(){var a,o,i;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["a"])({parentCode:"TEMPLATE_STATUE"});case 2:a=e.sent,o=a.code,i=a.data,"000000"===o&&(t.statueList=i);case 6:case"end":return e.stop()}},e)}))()},getAttriBute:function(t){var e=this.templateUnitData.filter(function(e){return e.unitCode===t.attribute3});return e.length>0?e[0].unitName:""},getStatue:function(t){var e=this.statueList.filter(function(e){return e.dictCode===t.statue});return e.length>0?e[0].dictName:""},getMyCommonTemplate:function(){var t=this;return d()(r.a.mark(function e(){var a,o,i;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["k"])(c()({orgCode:t.userInfo.orgCode},t.searchForm,t.$refs.ruleForm.model));case 2:a=e.sent,o=a.code,i=a.data,"000000"===o&&(t.tableData=i.records||[],t.searchForm.total=i.total);case 6:case"end":return e.stop()}},e)}))()},addDeclaration:function(){this.$router.push({name:"drafts",query:{type:"add"}})},formSearchMethod:function(){this.searchForm={currentPage:1,pageSize:10,total:0},this.getMyCommonTemplate()},formResetMethod:function(t){this.$refs[t].resetFields(),this.getMyCommonTemplate()},handlerCurrentPage:function(t){this.searchForm=c()({},this.searchForm,t),this.getMyCommonTemplate()},handleGoto:function(t){this.$router.push({name:"managetemplate",query:{type:"detail",templateId:t.templateId,isShowBut:"false"}})},getCurrentPersonRole:function(){var t=this;return d()(r.a.mark(function e(){var a,o,i,n,l;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$store.state.common.userInfo,o={deputyAccountId:a.deputyAccountId,roleCode:"contract_template_admin"},e.next=4,Object(m["l"])(o);case 4:i=e.sent,n=i.code,l=i.data,"000000"===n&&(0===l.length?t.isAdmin=!1:t.isAdmin=!0);case 8:case"end":return e.stop()}},e)}))()}}},x=v,g=(a("6e34"),a("a6c2")),h=Object(g["a"])(x,o,i,!1,null,"0950b433",null);e["default"]=h.exports},b6ea:function(t,e,a){var o=a("e6a5");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("8ee7ca18",o,!0,{sourceMap:!1,shadowMode:!1})},e6a5:function(t,e,a){e=t.exports=a("7b4b")(!1),e.push([t.i,"blockquote[data-v-0950b433],body[data-v-0950b433],dd[data-v-0950b433],dl[data-v-0950b433],dt[data-v-0950b433],fieldset[data-v-0950b433],h1[data-v-0950b433],h2[data-v-0950b433],h3[data-v-0950b433],h4[data-v-0950b433],h5[data-v-0950b433],h6[data-v-0950b433],input[data-v-0950b433],ol[data-v-0950b433],p[data-v-0950b433],pre[data-v-0950b433],td[data-v-0950b433],textarea[data-v-0950b433],th[data-v-0950b433],ul[data-v-0950b433]{font-family:PingFangSC-Regular,PingFangSC-Medium,Microsoft YaHei,Helvetica Neue,Droid Sans,Droid Sans Fallback,Heiti SC,Hiragino Sans GB,Simsun,sans-self,serif;margin:0;padding:0;font-size:14px}body[data-v-0950b433],html[data-v-0950b433]{overflow:hidden}body .el-table colgroup.gutter[data-v-0950b433],body .el-table th.gutter[data-v-0950b433]{display:table-cell!important}table[data-v-0950b433]{border-collapse:collapse;border-spacing:0;empty-cells:show}ul[data-v-0950b433]{list-style:none}input[data-v-0950b433]:-webkit-autofill,select[data-v-0950b433]:-webkit-autofill,textarea[data-v-0950b433]:-webkit-autofill{-webkit-text-fill-color:#606266!important;-webkit-box-shadow:0 0 0 1000px transparent inset!important;background-color:transparent;background-image:none;-webkit-transition:background-color 50000s ease-in-out 0s;transition:background-color 50000s ease-in-out 0s}.el-select--medium[data-v-0950b433]{vertical-align:bottom!important}.el-select__input[data-v-0950b433]{vertical-align:baseline}input[data-v-0950b433]{background-color:transparent}input[data-v-0950b433]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px transparent inset!important;-webkit-text-fill-color:#606266!important}.bg-white[data-v-0950b433]{background:#fff}.pl24[data-v-0950b433]{padding-left:24px}.pd16[data-v-0950b433]{padding:16px}.pd24[data-v-0950b433]{padding:24px}.pd24_1[data-v-0950b433],.pdl24[data-v-0950b433]{padding-left:24px}.pd24_1[data-v-0950b433]{padding-bottom:24px}.tc[data-v-0950b433]{text-align:center}.tr[data-v-0950b433]{text-align:right}.white[data-v-0950b433]{color:#fff}.flex[data-v-0950b433]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-center-between[data-v-0950b433]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.flex-center[data-v-0950b433],.flex-center-between[data-v-0950b433]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center[data-v-0950b433]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-around[data-v-0950b433]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-0950b433]{-ms-flex-pack:distribute;justify-content:space-around}.flex-center-around[data-v-0950b433],.flex-center-end[data-v-0950b433]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-center-end[data-v-0950b433]{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.flex-center-start[data-v-0950b433]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ml5[data-v-0950b433]{margin-left:5px}.ml10[data-v-0950b433]{margin-left:10px}.ml15[data-v-0950b433]{margin-left:15px}.ml20[data-v-0950b433]{margin-left:20px}.mr10[data-v-0950b433]{margin-right:10px}.mr20[data-v-0950b433]{margin-right:20px}.mt10[data-v-0950b433]{margin-top:10px}.mt16[data-v-0950b433]{margin-top:16px}.mt20[data-v-0950b433]{margin-top:20px}.mt24[data-v-0950b433]{margin-top:24px}.mb16[data-v-0950b433]{margin-bottom:16px}.mb20[data-v-0950b433]{margin-bottom:20px}.mb24[data-v-0950b433]{margin-bottom:24px}.p15[data-v-0950b433]{padding:15px}.p20[data-v-0950b433]{padding:20px}.p25[data-v-0950b433]{padding:25px}.pt10[data-v-0950b433]{padding-top:10px}.pt30[data-v-0950b433]{padding-top:30px}.pr20[data-v-0950b433]{padding-right:20px}.pb24[data-v-0950b433]{padding-bottom:24px}.el-drawer__body[data-v-0950b433]{overflow:auto!important}.pointer[data-v-0950b433]{cursor:pointer}img[data-v-0950b433]{border:0}textarea[data-v-0950b433]{resize:none}caption[data-v-0950b433],th[data-v-0950b433]{text-align:left}em[data-v-0950b433],i[data-v-0950b433]{font-style:normal}hr[data-v-0950b433]{margin-top:0;margin-bottom:0}a[data-v-0950b433]:focus{outline:none!important}a[data-v-0950b433]{text-decoration:none!important;color:#2393f7}.el-drawer[data-v-0950b433]:focus,button[data-v-0950b433]:focus,input[data-v-0950b433]:focus{outline:none;-moz-outline:none}.__view[data-v-0950b433]{width:0!important}.form-bg[data-v-0950b433]{width:100%;overflow:hidden;background:#f9fbfc;padding:0 10px 0 10px;border-radius:3px}.form-bg .el-input.is-disabled .el-input__inner[data-v-0950b433]{color:#303133;font-size:14px}.form-bg .el-textarea__inner[data-v-0950b433]{font-size:14px}.form-bg .el-textarea.is-disabled .el-textarea__inner[data-v-0950b433]{color:#303133;font-size:14px}.w-100[data-v-0950b433]{width:100%!important}.t-l[data-v-0950b433]{text-align:left}.list-search[data-v-0950b433]{width:100%}.el-icon-document-copy[data-v-0950b433]{vertical-align:middle;margin-right:5px!important;width:24px;text-align:center;font-size:18px}.title-size[data-v-0950b433]{overflow:visible!important;visibility:visible!important;height:57px!important}.el-submenu__icon-arrow.el-icon-arrow-right[data-v-0950b433]{display:block!important}.el-submenu__icon-arrow.el-icon-arrow-right .el-menu-item.is-active[data-v-0950b433]{text-align:center!important}.color-blue[data-v-0950b433]{color:#0070c1}.el-menu--collapse[data-v-0950b433]{width:auto}.common-footer-box[data-v-0950b433]{width:98%;position:fixed;bottom:0;left:0;background:#fff;padding:20px;-webkit-box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);box-shadow:0 -4px 8px 0 rgba(0,0,0,.1);z-index:10}.common-footer[data-v-0950b433]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-footer-content[data-v-0950b433]{margin-left:14%;width:77%}.ft18[data-v-0950b433]{font-size:18px}.ft16[data-v-0950b433]{font-size:16px}.ft10[data-v-0950b433]{padding-top:20px;font-size:14px}.ft25[data-v-0950b433]{font-size:25px}.el-dialog__header[data-v-0950b433]{padding:13px 20px;border-bottom:1px solid #dee0e3}.el-tree-node[data-v-0950b433],.is-expanded[data-v-0950b433],.is-focusable[data-v-0950b433]{color:#606266}.is-current[data-v-0950b433]{color:#2393f7}.bg100[data-v-0950b433]{height:100px}li[data-v-0950b433]{list-style:none}.el-menu--popup-right-start[data-v-0950b433]{margin-left:0}.el-step__description.is-finish[data-v-0950b433]{color:#303133}.el-step__title.is-finish[data-v-0950b433]{color:#303133!important}.el-step__head.is-finish[data-v-0950b433]{color:#303133;border-color:#303133}.el-step__description.is-wait[data-v-0950b433],.el-step__title.is-wait[data-v-0950b433]{color:#303133}.el-step__head.is-wait[data-v-0950b433]{color:#303133;border-color:#303133}.el-step__line[data-v-0950b433]{background-color:#303133}.el-tooltip__popper[data-v-0950b433]{max-width:20%}.underline[data-v-0950b433]{text-decoration:underline;color:#2393f7}.modlue-box[data-v-0950b433]{width:100%;height:100%;position:fixed;z-index:20}.viewOffice[data-v-0950b433]{height:90%;position:fixed}.vue-treeselect--disabled .vue-treeselect__control[data-v-0950b433]{background-color:#f5f7fa;height:32px!important}.vue-treeselect__control[data-v-0950b433]{height:32px}.vue-treeselect__menu[data-v-0950b433]{max-height:250px!important}.vue-treeselect--disabled .vue-treeselect__single-value[data-v-0950b433]{color:#303133;font-size:13px}.modlue-box .el-loading-spinner .circular[data-v-0950b433]{display:none}.modlue-box .el-loading-spinner .el-loading-text[data-v-0950b433]{font-size:16px}.radio-cont[data-v-0950b433]{padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.setradio[data-v-0950b433]{padding-bottom:14px}.setradio .el-radio[data-v-0950b433]{padding:0;width:100%;background:#fff}.setradio .el-radio[data-v-0950b433],.setradio .el-radio__input[data-v-0950b433]{white-space:normal}.setradio .el-radio__label[data-v-0950b433]{padding:0}.setradio .el-radio.is-bordered.is-checked[data-v-0950b433]{border:2px solid #409eff}.setradio .el-radio-group[data-v-0950b433]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.setradio .el-radio__input[data-v-0950b433]{padding:0;margin:0;position:absolute;bottom:-25px;left:45%}.setradio .el-radio__input .el-radio__inner[data-v-0950b433]{width:16px;height:16px}.radio-img img[data-v-0950b433]{width:50px}.radio-rig[data-v-0950b433]{margin-left:10px}.radio-rig span[data-v-0950b433]{display:block;font-size:16px;font-weight:600;color:#1f2329;margin-bottom:10px}.radio-rig p[data-v-0950b433]{display:none;font-size:12px;color:#8f959e;letter-spacing:0;text-align:justify;line-height:18px}.el-radio:hover .hind[data-v-0950b433]{display:block}.box-solid-bt[data-v-0950b433]{border-bottom:1px solid #eee;margin-bottom:16px}.border-top[data-v-0950b433]{margin-top:15px;padding-top:15px}.border-top[data-v-0950b433],.tp-das[data-v-0950b433]{border-top:1px dashed #d9d9d9}#over-select .el-select__tags-text[data-v-0950b433]{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#over-select .el-select .el-tag__close.el-icon-close[data-v-0950b433]{top:-5px}.el-submenu__title[data-v-0950b433]{border:none}.vue-treeselect__menu-container[data-v-0950b433],.vue-treeselect__portal-target[data-v-0950b433]{z-index:90000000000000!important}.el-tag.el-tag--info[data-v-0950b433]{color:#303133;font-size:14px}.button-center[data-v-0950b433]{text-align:center}.button-center span[data-v-0950b433]{font-size:14px;color:#2393f7}",""])}}]);